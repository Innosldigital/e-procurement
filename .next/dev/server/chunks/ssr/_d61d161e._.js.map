{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/my-projects/InnoslProcura/app/%28app%29/reports/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { FileDown, Settings } from 'lucide-react'\nimport { getRequisitions } from \"@/lib/actions/requisition-actions\"\n\nconst fmtAmount = (n: number) => new Intl.NumberFormat('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 }).format(n)\n\nexport default function ReportsPage() {\n  const [categoryData, setCategoryData] = useState<{ category: string; amount: number }[]>([])\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    let mounted = true\n    getRequisitions()\n      .then((res) => {\n        const data = (res && (res as any).success) ? (res as any).data : []\n        const totals: Record<string, number> = {}\n        for (const r of data as any[]) {\n          const cat = r.category || \"Uncategorized\"\n          const amt = Number(r.amount || 0)\n          totals[cat] = (totals[cat] || 0) + amt\n        }\n        const top = Object.entries(totals)\n          .map(([category, amount]) => ({ category, amount }))\n          .sort((a, b) => b.amount - a.amount)\n          .slice(0, 5)\n        if (!mounted) return\n        setCategoryData(top)\n      })\n      .catch(() => {\n        if (!mounted) return\n        setCategoryData([])\n      })\n      .finally(() => {\n        if (!mounted) return\n        setLoading(false)\n      })\n    return () => { mounted = false }\n  }, [])\n  return (\n    <div className=\"p-8\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <div>\n            <h1 className=\"text-2xl font-semibold text-foreground mb-2\">Reports</h1>\n            <p className=\"text-sm text-muted-foreground\">\n              Analyze spend, compliance, and cycle times across your procurement lifecycle.\n            </p>\n          </div>\n          <div className=\"flex gap-2\">\n            <Button variant=\"outline\" size=\"sm\">\n              <FileDown className=\"w-4 h-4 mr-2\" />\n              Export as PDF\n            </Button>\n            <Button size=\"sm\">\n              <Settings className=\"w-4 h-4 mr-2\" />\n              Build custom report\n            </Button>\n          </div>\n        </div>\n\n        <div className=\"bg-card border border-border rounded-lg p-4 mb-6\">\n          <div className=\"flex flex-wrap gap-6 text-sm\">\n            <div>\n              <span className=\"text-muted-foreground\">Period:</span>{\" \"}\n              <span className=\"font-medium\">Q1 FY25</span>\n            </div>\n            <div>\n              <span className=\"text-muted-foreground\">Dimension:</span>{\" \"}\n              <span className=\"font-medium\">Cost center & category</span>\n            </div>\n            <div>\n              <span className=\"text-muted-foreground\">Entities:</span>{\" \"}\n              <span className=\"font-medium\">Global HQ + 3 regions</span>\n            </div>\n            <div>\n              <span className=\"text-muted-foreground\">Currency:</span>{\" \"}\n              <span className=\"font-medium\">USD (reporting)</span>\n            </div>\n          </div>\n          <div className=\"flex gap-4 mt-3 text-xs text-muted-foreground\">\n            <span>Consolidated view</span>\n            <span>Data refreshed 5 min ago</span>\n            <span>Includes committed & actual spend</span>\n          </div>\n        </div>\n\n        <div className=\"grid gap-6 mb-6\">\n          <div className=\"bg-card border border-border rounded-lg p-6\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <div>\n                <h2 className=\"text-lg font-medium mb-1\">Spend & performance overview</h2>\n                <p className=\"text-xs text-muted-foreground\">High-level KPIs for the selected period across all entities.</p>\n              </div>\n              <span className=\"text-xs text-muted-foreground\">Benchmark vs previous period</span>\n            </div>\n            <div className=\"grid grid-cols-3 gap-6\">\n              <div>\n                <div className=\"text-sm text-muted-foreground mb-1\">Total addressable spend</div>\n                <div className=\"text-2xl font-semibold mb-1\">$12.4M</div>\n                <div className=\"text-xs text-success\">+8.3% vs Q4</div>\n                <div className=\"text-xs text-muted-foreground mt-1\">Includes POs & invoices approved</div>\n              </div>\n              <div>\n                <div className=\"text-sm text-muted-foreground mb-1\">Realized savings</div>\n                <div className=\"text-2xl font-semibold mb-1\">$1.26M</div>\n                <div className=\"text-xs text-success\">+4.1% vs target</div>\n                <div className=\"text-xs text-muted-foreground mt-1\">From negotiations, rebates & avoided cost</div>\n              </div>\n              <div>\n                <div className=\"text-sm text-muted-foreground mb-1\">On-contract compliance</div>\n                <div className=\"text-2xl font-semibold mb-1\">87%</div>\n                <div className=\"text-xs text-muted-foreground\">+2 pts vs Q4</div>\n                <div className=\"text-xs text-muted-foreground mt-1\">Spend with approved suppliers & catalogs</div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-6\">\n            <div className=\"bg-card border border-border rounded-lg p-6\">\n              <h3 className=\"text-sm font-medium mb-4\">Spend by category</h3>\n              <p className=\"text-xs text-muted-foreground mb-4\">Top 5 categories, filtered by approved suppliers only.</p>\n              {loading ? (\n                <div className=\"text-xs text-muted-foreground\">Loading categories...</div>\n              ) : categoryData.length === 0 ? (\n                <div className=\"text-xs text-muted-foreground\">No category data found.</div>\n              ) : (\n                <div className=\"space-y-3\">\n                  {categoryData.map((item, i) => (\n                    <div key={i} className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"w-2 h-2 rounded-full bg-primary\" />\n                        <span className=\"text-sm\">{item.category}</span>\n                      </div>\n                      <span className=\"text-sm font-medium\">${fmtAmount(item.amount)}</span>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            <div className=\"bg-card border border-border rounded-lg p-6\">\n              <h3 className=\"text-sm font-medium mb-4\">Cycle time & SLA</h3>\n              <p className=\"text-xs text-muted-foreground mb-4\">Average lead time from requisition to payment.</p>\n              <div className=\"space-y-4\">\n                <div>\n                  <div className=\"flex items-center justify-between mb-1\">\n                    <span className=\"text-sm text-muted-foreground\">Requisition → PO</span>\n                    <span className=\"text-sm font-medium\">4.3d</span>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <div className=\"text-xs text-success\">-0.7d vs Q4</div>\n                  </div>\n                </div>\n                <div>\n                  <div className=\"flex items-center justify-between mb-1\">\n                    <span className=\"text-sm text-muted-foreground\">PO → Invoice</span>\n                    <span className=\"text-sm font-medium\">5.1d</span>\n                  </div>\n                  <div className=\"text-xs text-muted-foreground\">Stable</div>\n                </div>\n                <div>\n                  <div className=\"flex items-center justify-between mb-1\">\n                    <span className=\"text-sm text-muted-foreground\">Invoice → Payment</span>\n                    <span className=\"text-sm font-medium\">8.9d</span>\n                  </div>\n                  <div className=\"text-xs text-destructive\">+1.2d vs target</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-card border border-border rounded-lg p-6 mb-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div>\n              <h2 className=\"text-sm font-medium mb-1\">Saved & scheduled reports</h2>\n              <p className=\"text-xs text-muted-foreground\">Access recurring reports shared across finance, procurement, and leadership.</p>\n            </div>\n          </div>\n          <div className=\"space-y-3\">\n            <div className=\"p-3 border border-border rounded-lg text-xs text-muted-foreground\">No saved reports found.</div>\n          </div>\n          <p className=\"text-xs text-muted-foreground mt-4\">\n            Tip: Use \"Build custom report\" to drill into a specific entity, category, or supplier cluster.\n          </p>\n        </div>\n\n        <div className=\"bg-card border border-border rounded-lg p-6\">\n          <h2 className=\"text-sm font-medium mb-4\">Recently run reports</h2>\n          <p className=\"text-xs text-muted-foreground mb-4\">Re-run or export with the same parameters.</p>\n          <div className=\"space-y-3\">\n            <div className=\"p-3 border border-border rounded-lg text-xs text-muted-foreground\">No recent reports.</div>\n          </div>\n          <Button variant=\"link\" size=\"sm\" className=\"mt-4 text-xs\">View full report catalog</Button>\n        </div>\n      </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 857, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/file-down.js","sources":["file:///C:/my-projects/InnoslProcura/node_modules/lucide-react/src/icons/file-down.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name FileDown\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgMkg2YTIgMiAwIDAgMC0yIDJ2MTZhMiAyIDAgMCAwIDIgMmgxMmEyIDIgMCAwIDAgMi0yVjdaIiAvPgogIDxwYXRoIGQ9Ik0xNCAydjRhMiAyIDAgMCAwIDIgMmg0IiAvPgogIDxwYXRoIGQ9Ik0xMiAxOHYtNiIgLz4KICA8cGF0aCBkPSJtOSAxNSAzIDMgMy0zIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/file-down\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FileDown = createLucideIcon('FileDown', [\n  ['path', { d: 'M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z', key: '1rqfz7' }],\n  ['path', { d: 'M14 2v4a2 2 0 0 0 2 2h4', key: 'tnqrlb' }],\n  ['path', { d: 'M12 18v-6', key: '17g6i2' }],\n  ['path', { d: 'm9 15 3 3 3-3', key: '1npd3o' }],\n]);\n\nexport default FileDown;\n"],"names":[],"mappings":";;;;;;;;;;;AAaM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAW,6KAAA,EAAiB,UAAY,CAAA,CAAA,CAAA;IAC5C;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA;QAAA,CAAA;YAAE,GAAG,CAA8D,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA,CAAA;IAC3F;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA;QAAA,CAAA;YAAE,GAAG,CAA2B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA,CAAA;IACxD;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA;QAAA,CAAA;YAAE,GAAG,CAAa,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA,CAAA;IAC1C;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA;QAAA,CAAA;YAAE,GAAG,CAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA;CAC/C,CAAA,CAAA"}}]
}