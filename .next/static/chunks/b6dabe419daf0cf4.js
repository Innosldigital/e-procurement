(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,84762,e=>{"use strict";var t=e.i(43476),s=e.i(47163);function r({className:e,...r}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,s.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...r})}e.s(["Textarea",()=>r])},61788,e=>{"use strict";var t=e.i(43476),s=e.i(94179),r=e.i(47163);function l({status:e,variant:l}){let a;return(0,t.jsx)(s.Badge,{variant:l||"secondary",className:(0,r.cn)("font-normal",(a=e?.toLowerCase()||"").includes("pending")||a.includes("review")?"bg-warning/20 text-warning-foreground hover:bg-warning/30 border-warning/30":a.includes("approved")||a.includes("active")||a.includes("delivered")||a.includes("closed")?"bg-success/20 text-success-foreground hover:bg-success/30 border-success/30":a.includes("rejected")||a.includes("overdue")||a.includes("critical")||a.includes("high")?"bg-destructive/20 text-destructive hover:bg-destructive/30 border-destructive/30":a.includes("medium")||a.includes("evaluation")||a.includes("open")?"bg-info/20 text-info-foreground hover:bg-info/30 border-info/30":"bg-muted text-muted-foreground hover:bg-muted/80"),children:e})}e.s(["StatusBadge",()=>l])},7233,e=>{"use strict";let t=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},62870,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(74080),l=e.i(70152),a=e.i(81140),i=e.i(75830),n=e.i(20783),d=e.i(30030),o=e.i(86318),c=e.i(26330),u=e.i(3536),m=e.i(65491),x=e.i(10772),p=e.i(53660),h=e.i(74606),v=e.i(48425),g=e.i(91918),f=e.i(30207),y=e.i(69340),j=e.i(34620),b=e.i(99682),w=s.forwardRef((e,s)=>(0,t.jsx)(v.Primitive.span,{...e,ref:s,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));w.displayName="VisuallyHidden";var N=e.i(86312),S=e.i(85369),C=[" ","Enter","ArrowUp","ArrowDown"],P=[" ","Enter"],k="Select",[R,T,I]=(0,i.createCollection)(k),[D,E]=(0,d.createContextScope)(k,[I,p.createPopperScope]),L=(0,p.createPopperScope)(),[H,q]=D(k),[O,F]=D(k),M=e=>{let{__scopeSelect:r,children:l,open:a,defaultOpen:i,onOpenChange:n,value:d,defaultValue:c,onValueChange:u,dir:m,name:h,autoComplete:v,disabled:g,required:f,form:j}=e,b=L(r),[w,N]=s.useState(null),[S,C]=s.useState(null),[P,k]=s.useState(!1),T=(0,o.useDirection)(m),[I=!1,D]=(0,y.useControllableState)({prop:a,defaultProp:i,onChange:n}),[E,q]=(0,y.useControllableState)({prop:d,defaultProp:c,onChange:u}),F=s.useRef(null),M=!w||j||!!w.closest("form"),[_,B]=s.useState(new Set),z=Array.from(_).map(e=>e.props.value).join(";");return(0,t.jsx)(p.Root,{...b,children:(0,t.jsxs)(H,{required:f,scope:r,trigger:w,onTriggerChange:N,valueNode:S,onValueNodeChange:C,valueNodeHasChildren:P,onValueNodeHasChildrenChange:k,contentId:(0,x.useId)(),value:E,onValueChange:q,open:I,onOpenChange:D,dir:T,triggerPointerDownPosRef:F,disabled:g,children:[(0,t.jsx)(R.Provider,{scope:r,children:(0,t.jsx)(O,{scope:e.__scopeSelect,onNativeOptionAdd:s.useCallback(e=>{B(t=>new Set(t).add(e))},[]),onNativeOptionRemove:s.useCallback(e=>{B(t=>{let s=new Set(t);return s.delete(e),s})},[]),children:l})}),M?(0,t.jsxs)(eb,{"aria-hidden":!0,required:f,tabIndex:-1,name:h,autoComplete:v,value:E,onChange:e=>q(e.target.value),disabled:g,form:j,children:[void 0===E?(0,t.jsx)("option",{value:""}):null,Array.from(_)]},z):null]})})};M.displayName=k;var _="SelectTrigger",B=s.forwardRef((e,r)=>{let{__scopeSelect:l,disabled:i=!1,...d}=e,o=L(l),c=q(_,l),u=c.disabled||i,m=(0,n.useComposedRefs)(r,c.onTriggerChange),x=T(l),h=s.useRef("touch"),[g,f,y]=ew(e=>{let t=x().filter(e=>!e.disabled),s=t.find(e=>e.value===c.value),r=eN(t,e,s);void 0!==r&&c.onValueChange(r.value)}),j=e=>{u||(c.onOpenChange(!0),y()),e&&(c.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,t.jsx)(p.Anchor,{asChild:!0,...o,children:(0,t.jsx)(v.Primitive.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":ej(c.value)?"":void 0,...d,ref:m,onClick:(0,a.composeEventHandlers)(d.onClick,e=>{e.currentTarget.focus(),"mouse"!==h.current&&j(e)}),onPointerDown:(0,a.composeEventHandlers)(d.onPointerDown,e=>{h.current=e.pointerType;let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(j(e),e.preventDefault())}),onKeyDown:(0,a.composeEventHandlers)(d.onKeyDown,e=>{let t=""!==g.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||f(e.key),(!t||" "!==e.key)&&C.includes(e.key)&&(j(),e.preventDefault())})})})});B.displayName=_;var z="SelectValue",A=s.forwardRef((e,s)=>{let{__scopeSelect:r,className:l,style:a,children:i,placeholder:d="",...o}=e,c=q(z,r),{onValueNodeHasChildrenChange:u}=c,m=void 0!==i,x=(0,n.useComposedRefs)(s,c.onValueNodeChange);return(0,j.useLayoutEffect)(()=>{u(m)},[u,m]),(0,t.jsx)(v.Primitive.span,{...o,ref:x,style:{pointerEvents:"none"},children:ej(c.value)?(0,t.jsx)(t.Fragment,{children:d}):i})});A.displayName=z;var U=s.forwardRef((e,s)=>{let{__scopeSelect:r,children:l,...a}=e;return(0,t.jsx)(v.Primitive.span,{"aria-hidden":!0,...a,ref:s,children:l||"â–¼"})});U.displayName="SelectIcon";var V=e=>(0,t.jsx)(h.Portal,{asChild:!0,...e});V.displayName="SelectPortal";var K="SelectContent",W=s.forwardRef((e,l)=>{let a=q(K,e.__scopeSelect),[i,n]=s.useState();return((0,j.useLayoutEffect)(()=>{n(new DocumentFragment)},[]),a.open)?(0,t.jsx)(X,{...e,ref:l}):i?r.createPortal((0,t.jsx)($,{scope:e.__scopeSelect,children:(0,t.jsx)(R.Slot,{scope:e.__scopeSelect,children:(0,t.jsx)("div",{children:e.children})})}),i):null});W.displayName=K;var[$,G]=D(K),X=s.forwardRef((e,r)=>{let{__scopeSelect:l,position:i="item-aligned",onCloseAutoFocus:d,onEscapeKeyDown:o,onPointerDownOutside:x,side:p,sideOffset:h,align:v,alignOffset:f,arrowPadding:y,collisionBoundary:j,collisionPadding:b,sticky:w,hideWhenDetached:C,avoidCollisions:P,...k}=e,R=q(K,l),[I,D]=s.useState(null),[E,L]=s.useState(null),H=(0,n.useComposedRefs)(r,e=>D(e)),[O,F]=s.useState(null),[M,_]=s.useState(null),B=T(l),[z,A]=s.useState(!1),U=s.useRef(!1);s.useEffect(()=>{if(I)return(0,N.hideOthers)(I)},[I]),(0,u.useFocusGuards)();let V=s.useCallback(e=>{let[t,...s]=B().map(e=>e.ref.current),[r]=s.slice(-1),l=document.activeElement;for(let s of e)if(s===l||(s?.scrollIntoView({block:"nearest"}),s===t&&E&&(E.scrollTop=0),s===r&&E&&(E.scrollTop=E.scrollHeight),s?.focus(),document.activeElement!==l))return},[B,E]),W=s.useCallback(()=>V([O,I]),[V,O,I]);s.useEffect(()=>{z&&W()},[z,W]);let{onOpenChange:G,triggerPointerDownPosRef:X}=R;s.useEffect(()=>{if(I){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-(X.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(X.current?.y??0))}},s=s=>{e.x<=10&&e.y<=10?s.preventDefault():I.contains(s.target)||G(!1),document.removeEventListener("pointermove",t),X.current=null};return null!==X.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",s,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",s,{capture:!0})}}},[I,G,X]),s.useEffect(()=>{let e=()=>G(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[G]);let[Z,J]=ew(e=>{let t=B().filter(e=>!e.disabled),s=t.find(e=>e.ref.current===document.activeElement),r=eN(t,e,s);r&&setTimeout(()=>r.ref.current.focus())}),ee=s.useCallback((e,t,s)=>{let r=!U.current&&!s;(void 0!==R.value&&R.value===t||r)&&(F(e),r&&(U.current=!0))},[R.value]),et=s.useCallback(()=>I?.focus(),[I]),es=s.useCallback((e,t,s)=>{let r=!U.current&&!s;(void 0!==R.value&&R.value===t||r)&&_(e)},[R.value]),er="popper"===i?Y:Q,el=er===Y?{side:p,sideOffset:h,align:v,alignOffset:f,arrowPadding:y,collisionBoundary:j,collisionPadding:b,sticky:w,hideWhenDetached:C,avoidCollisions:P}:{};return(0,t.jsx)($,{scope:l,content:I,viewport:E,onViewportChange:L,itemRefCallback:ee,selectedItem:O,onItemLeave:et,itemTextRefCallback:es,focusSelectedItem:W,selectedItemText:M,position:i,isPositioned:z,searchRef:Z,children:(0,t.jsx)(S.RemoveScroll,{as:g.Slot,allowPinchZoom:!0,children:(0,t.jsx)(m.FocusScope,{asChild:!0,trapped:R.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,a.composeEventHandlers)(d,e=>{R.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,t.jsx)(c.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:x,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>R.onOpenChange(!1),children:(0,t.jsx)(er,{role:"listbox",id:R.contentId,"data-state":R.open?"open":"closed",dir:R.dir,onContextMenu:e=>e.preventDefault(),...k,...el,onPlaced:()=>A(!0),ref:H,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:(0,a.composeEventHandlers)(k.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||J(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=B().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let s=e.target,r=t.indexOf(s);t=t.slice(r+1)}setTimeout(()=>V(t)),e.preventDefault()}})})})})})})});X.displayName="SelectContentImpl";var Q=s.forwardRef((e,r)=>{let{__scopeSelect:a,onPlaced:i,...d}=e,o=q(K,a),c=G(K,a),[u,m]=s.useState(null),[x,p]=s.useState(null),h=(0,n.useComposedRefs)(r,e=>p(e)),g=T(a),f=s.useRef(!1),y=s.useRef(!0),{viewport:b,selectedItem:w,selectedItemText:N,focusSelectedItem:S}=c,C=s.useCallback(()=>{if(o.trigger&&o.valueNode&&u&&x&&b&&w&&N){let e=o.trigger.getBoundingClientRect(),t=x.getBoundingClientRect(),s=o.valueNode.getBoundingClientRect(),r=N.getBoundingClientRect();if("rtl"!==o.dir){let a=r.left-t.left,i=s.left-a,n=e.left-i,d=e.width+n,o=Math.max(d,t.width),c=window.innerWidth-10,m=(0,l.clamp)(i,[10,Math.max(10,c-o)]);u.style.minWidth=d+"px",u.style.left=m+"px"}else{let a=t.right-r.right,i=window.innerWidth-s.right-a,n=window.innerWidth-e.right-i,d=e.width+n,o=Math.max(d,t.width),c=window.innerWidth-10,m=(0,l.clamp)(i,[10,Math.max(10,c-o)]);u.style.minWidth=d+"px",u.style.right=m+"px"}let a=g(),n=window.innerHeight-20,d=b.scrollHeight,c=window.getComputedStyle(x),m=parseInt(c.borderTopWidth,10),p=parseInt(c.paddingTop,10),h=parseInt(c.borderBottomWidth,10),v=m+p+d+parseInt(c.paddingBottom,10)+h,y=Math.min(5*w.offsetHeight,v),j=window.getComputedStyle(b),S=parseInt(j.paddingTop,10),C=parseInt(j.paddingBottom,10),P=e.top+e.height/2-10,k=w.offsetHeight/2,R=m+p+(w.offsetTop+k);if(R<=P){let e=a.length>0&&w===a[a.length-1].ref.current;u.style.bottom="0px";let t=Math.max(n-P,k+(e?C:0)+(x.clientHeight-b.offsetTop-b.offsetHeight)+h);u.style.height=R+t+"px"}else{let e=a.length>0&&w===a[0].ref.current;u.style.top="0px";let t=Math.max(P,m+b.offsetTop+(e?S:0)+k);u.style.height=t+(v-R)+"px",b.scrollTop=R-P+b.offsetTop}u.style.margin="10px 0",u.style.minHeight=y+"px",u.style.maxHeight=n+"px",i?.(),requestAnimationFrame(()=>f.current=!0)}},[g,o.trigger,o.valueNode,u,x,b,w,N,o.dir,i]);(0,j.useLayoutEffect)(()=>C(),[C]);let[P,k]=s.useState();(0,j.useLayoutEffect)(()=>{x&&k(window.getComputedStyle(x).zIndex)},[x]);let R=s.useCallback(e=>{e&&!0===y.current&&(C(),S?.(),y.current=!1)},[C,S]);return(0,t.jsx)(Z,{scope:a,contentWrapper:u,shouldExpandOnScrollRef:f,onScrollButtonChange:R,children:(0,t.jsx)("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:(0,t.jsx)(v.Primitive.div,{...d,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...d.style}})})})});Q.displayName="SelectItemAlignedPosition";var Y=s.forwardRef((e,s)=>{let{__scopeSelect:r,align:l="start",collisionPadding:a=10,...i}=e,n=L(r);return(0,t.jsx)(p.Content,{...n,...i,ref:s,align:l,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Y.displayName="SelectPopperPosition";var[Z,J]=D(K,{}),ee="SelectViewport",et=s.forwardRef((e,r)=>{let{__scopeSelect:l,nonce:i,...d}=e,o=G(ee,l),c=J(ee,l),u=(0,n.useComposedRefs)(r,o.onViewportChange),m=s.useRef(0);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),(0,t.jsx)(R.Slot,{scope:l,children:(0,t.jsx)(v.Primitive.div,{"data-radix-select-viewport":"",role:"presentation",...d,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...d.style},onScroll:(0,a.composeEventHandlers)(d.onScroll,e=>{let t=e.currentTarget,{contentWrapper:s,shouldExpandOnScrollRef:r}=c;if(r?.current&&s){let e=Math.abs(m.current-t.scrollTop);if(e>0){let r=window.innerHeight-20,l=Math.max(parseFloat(s.style.minHeight),parseFloat(s.style.height));if(l<r){let a=l+e,i=Math.min(r,a),n=a-i;s.style.height=i+"px","0px"===s.style.bottom&&(t.scrollTop=n>0?n:0,s.style.justifyContent="flex-end")}}}m.current=t.scrollTop})})})]})});et.displayName=ee;var es="SelectGroup",[er,el]=D(es);s.forwardRef((e,s)=>{let{__scopeSelect:r,...l}=e,a=(0,x.useId)();return(0,t.jsx)(er,{scope:r,id:a,children:(0,t.jsx)(v.Primitive.div,{role:"group","aria-labelledby":a,...l,ref:s})})}).displayName=es;var ea="SelectLabel";s.forwardRef((e,s)=>{let{__scopeSelect:r,...l}=e,a=el(ea,r);return(0,t.jsx)(v.Primitive.div,{id:a.id,...l,ref:s})}).displayName=ea;var ei="SelectItem",[en,ed]=D(ei),eo=s.forwardRef((e,r)=>{let{__scopeSelect:l,value:i,disabled:d=!1,textValue:o,...c}=e,u=q(ei,l),m=G(ei,l),p=u.value===i,[h,g]=s.useState(o??""),[f,y]=s.useState(!1),j=(0,n.useComposedRefs)(r,e=>m.itemRefCallback?.(e,i,d)),b=(0,x.useId)(),w=s.useRef("touch"),N=()=>{d||(u.onValueChange(i),u.onOpenChange(!1))};if(""===i)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,t.jsx)(en,{scope:l,value:i,disabled:d,textId:b,isSelected:p,onItemTextChange:s.useCallback(e=>{g(t=>t||(e?.textContent??"").trim())},[]),children:(0,t.jsx)(R.ItemSlot,{scope:l,value:i,disabled:d,textValue:h,children:(0,t.jsx)(v.Primitive.div,{role:"option","aria-labelledby":b,"data-highlighted":f?"":void 0,"aria-selected":p&&f,"data-state":p?"checked":"unchecked","aria-disabled":d||void 0,"data-disabled":d?"":void 0,tabIndex:d?void 0:-1,...c,ref:j,onFocus:(0,a.composeEventHandlers)(c.onFocus,()=>y(!0)),onBlur:(0,a.composeEventHandlers)(c.onBlur,()=>y(!1)),onClick:(0,a.composeEventHandlers)(c.onClick,()=>{"mouse"!==w.current&&N()}),onPointerUp:(0,a.composeEventHandlers)(c.onPointerUp,()=>{"mouse"===w.current&&N()}),onPointerDown:(0,a.composeEventHandlers)(c.onPointerDown,e=>{w.current=e.pointerType}),onPointerMove:(0,a.composeEventHandlers)(c.onPointerMove,e=>{w.current=e.pointerType,d?m.onItemLeave?.():"mouse"===w.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,a.composeEventHandlers)(c.onPointerLeave,e=>{e.currentTarget===document.activeElement&&m.onItemLeave?.()}),onKeyDown:(0,a.composeEventHandlers)(c.onKeyDown,e=>{(m.searchRef?.current===""||" "!==e.key)&&(P.includes(e.key)&&N()," "===e.key&&e.preventDefault())})})})})});eo.displayName=ei;var ec="SelectItemText",eu=s.forwardRef((e,l)=>{let{__scopeSelect:a,className:i,style:d,...o}=e,c=q(ec,a),u=G(ec,a),m=ed(ec,a),x=F(ec,a),[p,h]=s.useState(null),g=(0,n.useComposedRefs)(l,e=>h(e),m.onItemTextChange,e=>u.itemTextRefCallback?.(e,m.value,m.disabled)),f=p?.textContent,y=s.useMemo(()=>(0,t.jsx)("option",{value:m.value,disabled:m.disabled,children:f},m.value),[m.disabled,m.value,f]),{onNativeOptionAdd:b,onNativeOptionRemove:w}=x;return(0,j.useLayoutEffect)(()=>(b(y),()=>w(y)),[b,w,y]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Primitive.span,{id:m.textId,...o,ref:g}),m.isSelected&&c.valueNode&&!c.valueNodeHasChildren?r.createPortal(o.children,c.valueNode):null]})});eu.displayName=ec;var em="SelectItemIndicator",ex=s.forwardRef((e,s)=>{let{__scopeSelect:r,...l}=e;return ed(em,r).isSelected?(0,t.jsx)(v.Primitive.span,{"aria-hidden":!0,...l,ref:s}):null});ex.displayName=em;var ep="SelectScrollUpButton",eh=s.forwardRef((e,r)=>{let l=G(ep,e.__scopeSelect),a=J(ep,e.__scopeSelect),[i,d]=s.useState(!1),o=(0,n.useComposedRefs)(r,a.onScrollButtonChange);return(0,j.useLayoutEffect)(()=>{if(l.viewport&&l.isPositioned){let e=function(){d(t.scrollTop>0)},t=l.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[l.viewport,l.isPositioned]),i?(0,t.jsx)(ef,{...e,ref:o,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=l;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});eh.displayName=ep;var ev="SelectScrollDownButton",eg=s.forwardRef((e,r)=>{let l=G(ev,e.__scopeSelect),a=J(ev,e.__scopeSelect),[i,d]=s.useState(!1),o=(0,n.useComposedRefs)(r,a.onScrollButtonChange);return(0,j.useLayoutEffect)(()=>{if(l.viewport&&l.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;d(Math.ceil(t.scrollTop)<e)},t=l.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[l.viewport,l.isPositioned]),i?(0,t.jsx)(ef,{...e,ref:o,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=l;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});eg.displayName=ev;var ef=s.forwardRef((e,r)=>{let{__scopeSelect:l,onAutoScroll:i,...n}=e,d=G("SelectScrollButton",l),o=s.useRef(null),c=T(l),u=s.useCallback(()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)},[]);return s.useEffect(()=>()=>u(),[u]),(0,j.useLayoutEffect)(()=>{let e=c().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[c]),(0,t.jsx)(v.Primitive.div,{"aria-hidden":!0,...n,ref:r,style:{flexShrink:0,...n.style},onPointerDown:(0,a.composeEventHandlers)(n.onPointerDown,()=>{null===o.current&&(o.current=window.setInterval(i,50))}),onPointerMove:(0,a.composeEventHandlers)(n.onPointerMove,()=>{d.onItemLeave?.(),null===o.current&&(o.current=window.setInterval(i,50))}),onPointerLeave:(0,a.composeEventHandlers)(n.onPointerLeave,()=>{u()})})});s.forwardRef((e,s)=>{let{__scopeSelect:r,...l}=e;return(0,t.jsx)(v.Primitive.div,{"aria-hidden":!0,...l,ref:s})}).displayName="SelectSeparator";var ey="SelectArrow";function ej(e){return""===e||void 0===e}s.forwardRef((e,s)=>{let{__scopeSelect:r,...l}=e,a=L(r),i=q(ey,r),n=G(ey,r);return i.open&&"popper"===n.position?(0,t.jsx)(p.Arrow,{...a,...l,ref:s}):null}).displayName=ey;var eb=s.forwardRef((e,r)=>{let{value:l,...a}=e,i=s.useRef(null),d=(0,n.useComposedRefs)(r,i),o=(0,b.usePrevious)(l);return s.useEffect(()=>{let e=i.current,t=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(o!==l&&t){let s=new Event("change",{bubbles:!0});t.call(e,l),e.dispatchEvent(s)}},[o,l]),(0,t.jsx)(w,{asChild:!0,children:(0,t.jsx)("select",{...a,ref:d,defaultValue:l})})});function ew(e){let t=(0,f.useCallbackRef)(e),r=s.useRef(""),l=s.useRef(0),a=s.useCallback(e=>{let s=r.current+e;t(s),function e(t){r.current=t,window.clearTimeout(l.current),""!==t&&(l.current=window.setTimeout(()=>e(""),1e3))}(s)},[t]),i=s.useCallback(()=>{r.current="",window.clearTimeout(l.current)},[]);return s.useEffect(()=>()=>window.clearTimeout(l.current),[]),[r,a,i]}function eN(e,t,s){var r,l;let a=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,i=s?e.indexOf(s):-1,n=(r=e,l=Math.max(i,0),r.map((e,t)=>r[(l+t)%r.length]));1===a.length&&(n=n.filter(e=>e!==s));let d=n.find(e=>e.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==s?d:void 0}eb.displayName="BubbleSelect";var eS=e.i(78784),eC=e.i(75254);let eP=(0,eC.default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ek=(0,eC.default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var eR=e.i(47163);function eT({...e}){return(0,t.jsx)(M,{"data-slot":"select",...e})}function eI({...e}){return(0,t.jsx)(A,{"data-slot":"select-value",...e})}function eD({className:e,size:s="default",children:r,...l}){return(0,t.jsxs)(B,{"data-slot":"select-trigger","data-size":s,className:(0,eR.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...l,children:[r,(0,t.jsx)(U,{asChild:!0,children:(0,t.jsx)(eP,{className:"size-4 opacity-50"})})]})}function eE({className:e,children:s,position:r="popper",...l}){return(0,t.jsx)(V,{children:(0,t.jsxs)(W,{"data-slot":"select-content",className:(0,eR.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...l,children:[(0,t.jsx)(eH,{}),(0,t.jsx)(et,{className:(0,eR.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),(0,t.jsx)(eq,{})]})})}function eL({className:e,children:s,...r}){return(0,t.jsxs)(eo,{"data-slot":"select-item",className:(0,eR.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[(0,t.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,t.jsx)(ex,{children:(0,t.jsx)(eS.CheckIcon,{className:"size-4"})})}),(0,t.jsx)(eu,{children:s})]})}function eH({className:e,...s}){return(0,t.jsx)(eh,{"data-slot":"select-scroll-up-button",className:(0,eR.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,t.jsx)(ek,{className:"size-4"})})}function eq({className:e,...s}){return(0,t.jsx)(eg,{"data-slot":"select-scroll-down-button",className:(0,eR.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,t.jsx)(eP,{className:"size-4"})})}e.s(["Select",()=>eT,"SelectContent",()=>eE,"SelectItem",()=>eL,"SelectTrigger",()=>eD,"SelectValue",()=>eI],62870)},63209,e=>{"use strict";let t=(0,e.i(75254).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},37658,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(39616),l=e.i(7233),a=e.i(88844),i=e.i(78583);let n=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var d=e.i(63209),o=e.i(61788),c=e.i(45964),u=e.i(95187),m=(0,u.createServerReference)("40d2ad5d3baa7b392b04fbb82797f2594544e39509",u.callServer,void 0,u.findSourceMapURL,"closePurchaseOrder"),x=e.i(37727),p=e.i(27612),h=e.i(67881),v=e.i(23750),g=e.i(10708),f=e.i(84762),y=e.i(62870),j=(0,u.createServerReference)("40205469e8fc58204db1420bdbaca451da4e1cae08",u.callServer,void 0,u.findSourceMapURL,"createPurchaseOrder");function b({onClose:e,onCreated:r}){let[a,i]=(0,s.useTransition)(),[n,d]=(0,s.useState)([{id:"1",description:"",qty:1,unitPrice:0,total:0}]),o=(e,t,s)=>{d(n.map(r=>{if(r.id===e){let e={...r,[t]:s};return("qty"===t||"unitPrice"===t)&&(e.total=(Number(e.qty)||0)*(Number(e.unitPrice)||0)),e}return r}))},c=n.reduce((e,t)=>e+(Number(t.total)||0),0),u=async t=>{t.preventDefault();let s=new FormData(t.currentTarget),l=String(s.get("supplier")||""),a=String(s.get("requester")||""),d=String(s.get("department")||""),o=String(s.get("linkedRequisition")||""),c=String(s.get("currency")||"USD"),u=String(s.get("purpose")||""),m=String(s.get("paymentTerms")||""),x=String(s.get("requestedDelivery")||""),p=x?new Date(x):void 0;i(async()=>{let t=await j({supplier:l,requester:a,department:d,linkedRequisition:o,currency:c,purpose:u,paymentTerms:m,requestedDelivery:p,lineItems:n.map(e=>({description:e.description,qty:e.qty,unitPrice:e.unitPrice}))});t.success?(r&&r(),e()):alert(t.error||"Failed to create purchase order")})};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-background rounded-lg shadow-lg w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 md:p-6 border-b",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg md:text-xl font-semibold",children:"Create Purchase Order"}),(0,t.jsx)("p",{className:"text-xs md:text-sm text-muted-foreground mt-1",children:"Issue a new purchase order to a supplier"})]}),(0,t.jsx)(h.Button,{variant:"ghost",size:"icon",onClick:e,children:(0,t.jsx)(x.X,{className:"h-5 w-5"})})]}),(0,t.jsxs)("form",{onSubmit:u,className:"flex-1 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"p-4 md:p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-sm",children:"Header"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g.Label,{htmlFor:"supplier",children:"Supplier *"}),(0,t.jsx)(v.Input,{id:"supplier",name:"supplier",required:!0,placeholder:"Enter supplier name"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g.Label,{htmlFor:"requester",children:"Requester"}),(0,t.jsx)(v.Input,{id:"requester",name:"requester",placeholder:"Requester name"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g.Label,{htmlFor:"department",children:"Department"}),(0,t.jsx)(v.Input,{id:"department",name:"department",placeholder:"Department"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g.Label,{htmlFor:"linkedRequisition",children:"Linked Requisition"}),(0,t.jsx)(v.Input,{id:"linkedRequisition",name:"linkedRequisition",placeholder:"REQ-xxxx"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g.Label,{htmlFor:"currency",children:"Currency"}),(0,t.jsxs)(y.Select,{name:"currency",defaultValue:"USD",children:[(0,t.jsx)(y.SelectTrigger,{children:(0,t.jsx)(y.SelectValue,{placeholder:"Select currency"})}),(0,t.jsxs)(y.SelectContent,{children:[(0,t.jsx)(y.SelectItem,{value:"USD",children:"USD"}),(0,t.jsx)(y.SelectItem,{value:"EUR",children:"EUR"}),(0,t.jsx)(y.SelectItem,{value:"GBP",children:"GBP"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g.Label,{htmlFor:"requestedDelivery",children:"Requested Delivery"}),(0,t.jsx)(v.Input,{id:"requestedDelivery",name:"requestedDelivery",type:"date"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-sm",children:"Commercial terms"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g.Label,{htmlFor:"purpose",children:"Purpose"}),(0,t.jsx)(f.Textarea,{id:"purpose",name:"purpose",rows:3,placeholder:"Describe the purpose of this PO"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g.Label,{htmlFor:"paymentTerms",children:"Payment terms"}),(0,t.jsx)(v.Input,{id:"paymentTerms",name:"paymentTerms",placeholder:"e.g., Net 30"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"font-semibold text-sm",children:"Line items"}),(0,t.jsxs)(h.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>{d([...n,{id:Date.now().toString(),description:"",qty:1,unitPrice:0,total:0}])},children:[(0,t.jsx)(l.Plus,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),(0,t.jsx)("div",{className:"space-y-3",children:n.map((e,s)=>(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-3 items-start p-3 md:p-4 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3 w-full",children:[(0,t.jsxs)("div",{className:"col-span-1 sm:col-span-2 lg:col-span-3 space-y-2",children:[(0,t.jsx)(g.Label,{className:"text-xs",children:"Description"}),(0,t.jsx)(v.Input,{placeholder:"Item description",value:e.description,onChange:t=>o(e.id,"description",t.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g.Label,{className:"text-xs",children:"Quantity"}),(0,t.jsx)(v.Input,{type:"number",min:"1",value:e.qty,onChange:t=>o(e.id,"qty",Number(t.target.value)),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g.Label,{className:"text-xs",children:"Unit Price ($)"}),(0,t.jsx)(v.Input,{type:"number",min:"0",step:"0.01",value:e.unitPrice,onChange:t=>o(e.id,"unitPrice",Number(t.target.value)),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(g.Label,{className:"text-xs",children:"Total"}),(0,t.jsx)(v.Input,{value:e.total,readOnly:!0})]})]}),(0,t.jsx)(h.Button,{type:"button",variant:"ghost",size:"icon",onClick:()=>{var t;return t=e.id,void(n.length>1&&d(n.filter(e=>e.id!==t)))},"aria-label":"Remove item",children:(0,t.jsx)(p.Trash2,{className:"h-4 w-4"})})]},e.id))})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total"}),(0,t.jsxs)("div",{className:"font-semibold",children:["$",c.toLocaleString()]})]})]}),(0,t.jsxs)("div",{className:"p-4 md:p-6 border-t flex items-center justify-end gap-2",children:[(0,t.jsx)(h.Button,{variant:"outline",type:"button",onClick:e,children:"Cancel"}),(0,t.jsx)(h.Button,{type:"submit",disabled:a,children:a?"Issuing...":"Issue PO"})]})]})]})})}let w=e=>e?new Date(e).toISOString().slice(0,10):"",N=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(e);function S(){let[e,u]=(0,s.useState)([]),[x,p]=(0,s.useState)(null),[h,v]=(0,s.useState)(!1),[g,f]=(0,s.useState)(null),[y,j]=(0,s.useState)(null),[S,C]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=!0;return v(!0),(0,c.getPurchaseOrders)().then(t=>{let s=t&&t.success?t.data:[];e&&(u(s),p(s[0]||null))}).catch(()=>{e&&(u([]),p(null))}).finally(()=>{e&&v(!1)}),()=>{e=!1}},[]);let P=(e,t)=>{j({message:e,type:t}),setTimeout(()=>j(null),3e3)},k=async()=>{f("receive"),setTimeout(()=>{P("Goods receipt recorded successfully","success"),f(null)},1e3)},R=async()=>{f("invoice"),setTimeout(()=>{P("Invoice draft created","success"),f(null)},1e3)},T=async()=>{if(x)try{f("close");let e=await m(x._id);if(e&&e.success){let e=await (0,c.getPurchaseOrders)();if(e&&e.success){u(e.data);let t=e.data.find(e=>e._id===x._id)||e.data[0]||null;p(t)}P("Purchase order closed","success")}else P(e?.error||"Failed to close purchase order","error")}catch(e){P("Failed to close purchase order","error")}finally{f(null)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[y&&(0,t.jsx)("div",{className:`fixed top-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg ${"success"===y.type?"bg-green-500":"bg-red-500"} text-white`,children:y.message}),(0,t.jsx)("div",{className:"bg-white border-b",children:(0,t.jsxs)("div",{className:" px-4 sm:px-6 lg:px-6 py-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Purchase Orders"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Track issuance, receipt, and invoicing status across your POs."})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[(0,t.jsx)(r.Settings,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"PO settings"})]}),(0,t.jsxs)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",onClick:()=>C(!0),children:[(0,t.jsx)(l.Plus,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"New PO"})]})]})]}),(0,t.jsxs)("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-600",children:"View:"})," ",(0,t.jsx)("span",{className:"font-medium",children:"Open & partially received"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Status:"})," ",(0,t.jsx)("span",{className:"font-medium",children:"Pending receipt, Pending invoice"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Supplier:"})," ",(0,t.jsx)("span",{className:"font-medium",children:"Top 20 strategic"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Date:"})," ",(0,t.jsx)("span",{className:"font-medium",children:"Last 90 days"})]})]}),(0,t.jsxs)("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),(0,t.jsx)("div",{className:"text-sm text-blue-700",children:"open POs"})]}),(0,t.jsxs)("div",{className:"bg-yellow-50 p-3 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-yellow-900",children:e.filter(e=>(e.status||"").toLowerCase().includes("pending receipt")).length}),(0,t.jsx)("div",{className:"text-sm text-yellow-700",children:"awaiting receipt"})]}),(0,t.jsxs)("div",{className:"bg-purple-50 p-3 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-purple-900",children:e.filter(e=>(e.status||"").toLowerCase().includes("pending invoice")).length}),(0,t.jsx)("div",{className:"text-sm text-purple-700",children:"pending invoice"})]})]})]})}),(0,t.jsxs)("div",{className:"px-4 sm:px-6 lg:px-6 py-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,t.jsxs)("div",{className:"p-4 border-b",children:[(0,t.jsx)("h2",{className:"font-semibold text-gray-900",children:"PO worklist"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Select a PO to review receipt and invoicing details."}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Sorted by delivery date"})]}),(0,t.jsx)("div",{className:"divide-y max-h-[600px] overflow-y-auto",children:h?(0,t.jsx)("div",{className:"p-8 text-center text-gray-500",children:"Loading purchase orders..."}):0===e.length?(0,t.jsx)("div",{className:"p-8 text-center text-gray-500",children:"No purchase orders found."}):e.map(e=>(0,t.jsxs)("button",{onClick:()=>p(e),className:`w-full text-left p-4 hover:bg-gray-50 transition-colors ${x?._id===e._id?"bg-blue-50":""}`,children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsx)("div",{className:"font-semibold text-gray-900",children:e.poNumber}),(0,t.jsx)(o.StatusBadge,{status:e.status})]}),(0,t.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:e.supplier}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("span",{className:"font-medium text-gray-900",children:["$",N(e.total)]}),(0,t.jsx)("span",{className:"text-gray-500",children:w(e.keyDates?.requestedDelivery)})]})]},e._id))}),(0,t.jsx)("div",{className:"p-4 bg-blue-50 border-t",children:(0,t.jsx)("p",{className:"text-xs text-blue-800",children:'ðŸ’¡ Tip: Switch "View" to see only POs blocked by invoice or receipt issues.'})})]})}),(0,t.jsx)("div",{className:"lg:col-span-2",children:x&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,t.jsxs)("div",{className:"p-6 border-b",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:[x.poNumber," Â· ",x.supplier]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 mt-2 text-sm text-gray-600",children:[(0,t.jsxs)("span",{children:["Requester: ",x.requester]}),(0,t.jsxs)("span",{children:["Department: ",x.department]})]})]}),(0,t.jsx)(o.StatusBadge,{status:x.status})]}),(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(a.Package,{className:"w-5 h-5 text-gray-600"}),(0,t.jsxs)("span",{className:"font-medium",children:[x.lineItems.filter(e=>(e.received||0)>=(e.ordered||0)).length," of ",x.lineItems.length," lines fully received"]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[(0,t.jsxs)("span",{children:["Linked requisition: ",x.linkedRequisition]}),(0,t.jsxs)("span",{children:["Currency: ",x.currency]})]})]})]}),(0,t.jsxs)("div",{className:"p-6 border-b",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Summary & commercial terms"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Purpose"}),(0,t.jsx)("div",{className:"text-gray-900",children:x.purpose})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"PO value"}),(0,t.jsxs)("div",{className:"text-gray-900",children:["$",N(x.total)," Â· Tax exclusive"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Payment terms"}),(0,t.jsx)("div",{className:"text-gray-900",children:x.paymentTerms})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Key dates"}),(0,t.jsxs)("div",{className:"text-gray-900",children:["Issued: ",w(x.keyDates?.issued)," Â· Delivery: ",w(x.keyDates?.requestedDelivery)]})]})]})]}),(0,t.jsxs)("div",{className:"p-6 border-b",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Line items & receipt status"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"text-left p-3 font-medium text-gray-700",children:"Line"}),(0,t.jsx)("th",{className:"text-left p-3 font-medium text-gray-700",children:"Description"}),(0,t.jsx)("th",{className:"text-right p-3 font-medium text-gray-700",children:"Ordered"}),(0,t.jsx)("th",{className:"text-right p-3 font-medium text-gray-700",children:"Received"}),(0,t.jsx)("th",{className:"text-right p-3 font-medium text-gray-700",children:"Remaining"}),(0,t.jsx)("th",{className:"text-right p-3 font-medium text-gray-700",children:"Total"})]})}),(0,t.jsx)("tbody",{className:"divide-y",children:x.lineItems.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"p-3",children:e.line}),(0,t.jsx)("td",{className:"p-3",children:e.description}),(0,t.jsx)("td",{className:"p-3 text-right",children:e.ordered}),(0,t.jsx)("td",{className:"p-3 text-right",children:(0,t.jsx)("span",{className:e.received===e.ordered?"text-green-600 font-medium":"",children:e.received})}),(0,t.jsx)("td",{className:"p-3 text-right",children:(0,t.jsx)("span",{className:e.remaining>0?"text-yellow-600 font-medium":"",children:e.remaining})}),(0,t.jsxs)("td",{className:"p-3 text-right font-medium",children:["$",N(e.lineTotal)]})]},e.line))})]})})]}),(0,t.jsxs)("div",{className:"p-6 border-b",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Delivery & invoicing"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Ship-to location"}),(0,t.jsx)("div",{className:"text-gray-900",children:x.delivery?.shipTo})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Invoice-to"}),(0,t.jsx)("div",{className:"text-gray-900",children:x.delivery?.invoiceTo})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Receipt status"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(x.receiptStatus?.status||"").toLowerCase().includes("fully received")?(0,t.jsx)(n,{className:"w-4 h-4 text-green-600"}):(0,t.jsx)(d.AlertCircle,{className:"w-4 h-4 text-yellow-600"}),(0,t.jsx)("span",{className:"text-gray-900",children:x.receiptStatus?.status})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Invoice status"}),(0,t.jsx)("div",{className:"text-gray-900",children:x.invoiceStatus?.status})]})]})]}),(0,t.jsxs)("div",{className:"p-6 border-b",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Approval & change history"}),(0,t.jsx)("div",{className:"space-y-4",children:(x.approvalHistory||[]).map((e,s)=>(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2"}),s<(x.approvalHistory||[]).length-1&&(0,t.jsx)("div",{className:"w-px h-full bg-gray-300 mt-1"})]}),(0,t.jsxs)("div",{className:"flex-1 pb-4",children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:e.event}),(0,t.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:[w(e.date),e.actor?` \xb7 ${e.actor}`:""]})]})]},s))})]}),(0,t.jsxs)("div",{className:"p-6 border-b",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Notes"}),(0,t.jsx)("p",{className:"text-gray-700",children:x.notes})]}),(0,t.jsxs)("div",{className:"p-6 bg-gray-50",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Next actions"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Record receipts and keep PO aligned with actual deliveries and invoices."}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,t.jsx)("button",{onClick:k,disabled:null!==g,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:"receive"===g?(0,t.jsx)(t.Fragment,{children:"Processing..."}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Package,{className:"w-4 h-4"}),"Receive goods"]})}),(0,t.jsx)("button",{onClick:R,disabled:null!==g,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:"invoice"===g?(0,t.jsx)(t.Fragment,{children:"Processing..."}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.FileText,{className:"w-4 h-4"}),"Create invoice draft"]})}),(0,t.jsx)("button",{onClick:T,disabled:null!==g,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"close"===g?"Processing...":"Close PO"})]})]})]})})]}),S&&(0,t.jsx)(b,{onClose:()=>C(!1),onCreated:async()=>{let e=await (0,c.getPurchaseOrders)();e&&e.success&&(u(e.data),p(e.data[0]||null))}})]})]})}e.s(["default",()=>S],37658)}]);