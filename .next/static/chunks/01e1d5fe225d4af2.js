(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,79707,e=>{"use strict";var s=e.i(43476),a=e.i(71645),i=e.i(43531),t=e.i(94771),r=e.i(27612),n=e.i(67881),c=e.i(94179),l=e.i(70065),d=e.i(29660),m=e.i(61343),o=e.i(74723),h=e.i(18566),x=e.i(47163);function u({initialNotifications:e}){let u=(0,h.useRouter)(),[j,f]=(0,a.useState)(e),p=j.filter(e=>!e.read).length,N=async e=>{await (0,d.markAsRead)(e),f(s=>s.map(s=>s._id===e?{...s,read:!0}:s)),u.refresh()},v=async()=>{await (0,m.markAllAsRead)(),f(e=>e.map(e=>({...e,read:!0}))),u.refresh()},g=async e=>{await (0,o.deleteNotification)(e),f(s=>s.filter(s=>s._id!==e)),u.refresh()};return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:p>0?(0,s.jsxs)("span",{children:[p," unread notification",1!==p?"s":""]}):(0,s.jsx)("span",{children:"All caught up!"})}),p>0&&(0,s.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:v,children:[(0,s.jsx)(t.CheckCheck,{className:"w-4 h-4 mr-2"}),"Mark all as read"]})]}),0===j.length?(0,s.jsx)(l.Card,{className:"p-12 text-center",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"No notifications yet"})}):(0,s.jsx)("div",{className:"space-y-2",children:j.map(e=>(0,s.jsx)(l.Card,{className:(0,x.cn)("p-4 hover:shadow-md transition-shadow",!e.read&&"bg-primary/5 border-primary/20"),children:(0,s.jsx)("div",{className:"flex items-start gap-4",children:(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("h3",{className:(0,x.cn)("font-medium",!e.read&&"font-semibold"),children:e.title}),(0,s.jsx)(c.Badge,{variant:{urgent:"destructive",high:"default",medium:"secondary",low:"outline"}[e.priority]||"secondary",children:e.priority}),!e.read&&(0,s.jsx)(c.Badge,{variant:"default",className:"bg-blue-500",children:"New"})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e.message})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[!e.read&&(0,s.jsxs)(n.Button,{variant:"ghost",size:"sm",onClick:()=>N(e._id),children:[(0,s.jsx)(i.Check,{className:"w-4 h-4 mr-1"}),"Mark read"]}),(0,s.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>g(e._id),className:"text-destructive hover:text-destructive",children:(0,s.jsx)(r.Trash2,{className:"w-4 h-4"})})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.createdAt).toLocaleString()}),e.actionUrl&&(0,s.jsx)(n.Button,{variant:"link",size:"sm",className:"h-auto p-0",onClick:()=>u.push(e.actionUrl),children:"View details â†’"})]})]})})},e._id))})]})}e.s(["NotificationsList",()=>u])}]);