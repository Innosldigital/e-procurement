(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,61788,e=>{"use strict";var s=e.i(43476),t=e.i(94179),d=e.i(47163);function i({status:e,variant:i}){let a;return(0,s.jsx)(t.Badge,{variant:i||"secondary",className:(0,d.cn)("font-normal",(a=e?.toLowerCase()||"").includes("pending")||a.includes("review")?"bg-warning/20 text-warning-foreground hover:bg-warning/30 border-warning/30":a.includes("approved")||a.includes("active")||a.includes("delivered")||a.includes("closed")?"bg-success/20 text-success-foreground hover:bg-success/30 border-success/30":a.includes("rejected")||a.includes("overdue")||a.includes("critical")||a.includes("high")?"bg-destructive/20 text-destructive hover:bg-destructive/30 border-destructive/30":a.includes("medium")||a.includes("evaluation")||a.includes("open")?"bg-info/20 text-info-foreground hover:bg-info/30 border-info/30":"bg-muted text-muted-foreground hover:bg-muted/80"),children:e})}e.s(["StatusBadge",()=>i])},7233,e=>{"use strict";let s=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>s],7233)},27365,e=>{"use strict";let s=(0,e.i(75254).default)("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);e.s(["FileDown",()=>s],27365)},28611,e=>{"use strict";var s=e.i(43476),t=e.i(71645),d=e.i(61788),i=e.i(67881),a=e.i(27365),n=e.i(7233),r=e.i(14198);let l=e=>e?new Date(e).toISOString().slice(0,10):"",c=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(e);function m(){let[e,m]=(0,t.useState)([]),[o,x]=(0,t.useState)(null),[u,h]=(0,t.useState)(!0);(0,t.useEffect)(()=>{!async function(){let e=await (0,r.getInvoices)();e.success&&(m(e.data),e.data.length>0&&x(e.data[0])),h(!1)}()},[]);let p=o?.lineItems||[],v=o?.activity||[];return(0,s.jsx)("div",{className:"p-4 md:p-8",children:(0,s.jsxs)("div",{className:"max-w-[1600px] mx-auto",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-xl md:text-2xl font-semibold text-foreground mb-2",children:"Invoices"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Track invoice flow from receipt to payment and manage exceptions."})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(i.Button,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none",children:[(0,s.jsx)(a.FileDown,{className:"w-4 h-4 mr-2"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Export list"}),(0,s.jsx)("span",{className:"sm:hidden",children:"Export"})]}),(0,s.jsxs)(i.Button,{size:"sm",className:"flex-1 sm:flex-none",children:[(0,s.jsx)(n.Plus,{className:"w-4 h-4 mr-2"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"New invoice"}),(0,s.jsx)("span",{className:"sm:hidden",children:"New"})]})]})]}),(0,s.jsxs)("div",{className:"bg-card border border-border rounded-lg p-4 mb-6",children:[(0,s.jsxs)("div",{className:"flex flex-wrap gap-3 md:gap-6 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Status:"})," ",(0,s.jsx)("span",{className:"font-medium",children:"Pending & overdue"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Due:"})," ",(0,s.jsx)("span",{className:"font-medium",children:"Next 30 days"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Entity:"})," ",(0,s.jsx)("span",{className:"font-medium",children:"Global HQ"})]}),(0,s.jsxs)("div",{className:"hidden sm:block",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Supplier:"})," ",(0,s.jsx)("span",{className:"font-medium",children:"Top 20 by spend"})]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 md:gap-4 mt-3 text-xs text-muted-foreground",children:[(0,s.jsx)("span",{children:"64 open invoices"}),(0,s.jsx)("span",{children:"12 overdue"}),(0,s.jsx)("span",{children:"$842,300 pending payment"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-4 md:gap-6",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 bg-card border border-border rounded-lg",children:[(0,s.jsxs)("div",{className:"border-b border-border p-3 md:p-4 flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"font-medium text-sm md:text-base",children:"Invoice worklist"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Prioritized view of invoices awaiting validation or payment."})]}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground hidden md:inline",children:"Sorted by due date"})]}),(0,s.jsx)("div",{className:"divide-y divide-border max-h-[600px] overflow-y-auto",children:u?(0,s.jsx)("div",{className:"p-8 text-center text-muted-foreground text-sm",children:"Loading invoices..."}):0===e.length?(0,s.jsx)("div",{className:"p-8 text-center text-muted-foreground text-sm",children:"No invoices found. Connect to MongoDB to see data."}):e.map(e=>(0,s.jsxs)("button",{onClick:()=>x(e),className:`w-full text-left p-3 md:p-4 hover:bg-accent/50 transition-colors ${o?._id===e._id?"bg-accent":""}`,children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-2 gap-2",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"font-medium text-sm mb-1 truncate",children:e.invoiceNumber}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground mb-2 truncate",children:e.supplier}),(0,s.jsx)(d.StatusBadge,{status:e.status})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("div",{className:"font-medium text-sm",children:["$",c(e.amount)]}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:l(e.dueDate)})]})]}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground truncate",children:e.poNumber})]},e._id))}),(0,s.jsx)("div",{className:"p-3 border-t border-border text-xs text-muted-foreground",children:'Tip: Filter by "Status" = Overdue to prioritize collections and payment holds.'})]}),(0,s.jsxs)("div",{className:"lg:col-span-3 bg-card border border-border rounded-lg",children:[(0,s.jsxs)("div",{className:"border-b border-border p-3 md:p-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("h2",{className:"font-medium text-sm md:text-base truncate",children:["Invoice #",o?.invoiceNumber]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 md:gap-4 text-xs text-muted-foreground mt-1",children:[(0,s.jsxs)("span",{className:"truncate",children:["Supplier: ",o?.supplier]}),(0,s.jsxs)("span",{className:"truncate",children:["PO: ",o?.poNumber]})]})]}),(0,s.jsx)(d.StatusBadge,{status:o?.status})]}),(0,s.jsxs)("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"flex gap-4 text-xs mb-2",children:[(0,s.jsx)("span",{children:"Entity: Global HQ"}),(0,s.jsx)("span",{children:"Currency: USD"})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium mb-3",children:"Invoice & payment summary"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Invoice date"}),(0,s.jsx)("div",{className:"font-medium",children:o?.invoiceDate?l(o.invoiceDate):""})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Due date"}),(0,s.jsxs)("div",{className:"font-medium",children:[o?.dueDate?l(o.dueDate):""," (Net 30)"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Invoice total"}),(0,s.jsx)("div",{className:"font-medium",children:o?.amount!=null?`$${c(o.amount)}`:""})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Remaining to pay"}),(0,s.jsx)("div",{className:"font-medium",children:o?.amount!=null?`$${c(o.amount)}`:""})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium mb-3",children:"Matching & validation"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"3-way match status"}),(0,s.jsxs)("div",{children:["PO match: Complete · GRN match: Complete · Price variance ","<"," 1% threshold."]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Approval workflow"}),(0,s.jsx)("div",{children:"Owner: Facilities · Approvers: Cost center manager, Finance AP · SLA: 2 business days."})]})]}),(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Exceptions"}),(0,s.jsx)("div",{className:"text-sm",children:"No blocking exceptions. One minor tax rounding difference logged and accepted."})]}),(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Coding"}),(0,s.jsx)("div",{className:"text-sm",children:"Cost center: HQ-FAC-001 · GL: 6100 Office Supplies · Tax code: US-NY-STD."})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium mb-3",children:"Line items"}),(0,s.jsx)("div",{className:"border border-border rounded-lg overflow-x-auto -mx-4 sm:mx-0",children:(0,s.jsxs)("table",{className:"w-full text-xs min-w-[600px]",children:[(0,s.jsx)("thead",{className:"bg-muted/50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-left p-2 font-medium",children:"Description"}),(0,s.jsx)("th",{className:"text-right p-2 font-medium",children:"Qty"}),(0,s.jsx)("th",{className:"text-right p-2 font-medium",children:"Unit price"}),(0,s.jsx)("th",{className:"text-right p-2 font-medium",children:"Tax"}),(0,s.jsx)("th",{className:"text-right p-2 font-medium",children:"Line total"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-border",children:p.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"p-2",children:e.description}),(0,s.jsx)("td",{className:"p-2 text-right",children:e.qty}),(0,s.jsxs)("td",{className:"p-2 text-right",children:["$",c(e.unitPrice??0)]}),(0,s.jsxs)("td",{className:"p-2 text-right",children:["$",c(e.tax??0)]}),(0,s.jsxs)("td",{className:"p-2 text-right font-medium",children:["$",c(e.lineTotal??0)]})]},t))})]})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium mb-3",children:"Activity & notes"}),(0,s.jsx)("div",{className:"space-y-3",children:v.map((e,t)=>(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-primary mt-1.5"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"text-sm font-medium",children:e.event}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:[l(e.date),e.details?` \xb7 ${e.details}`:""]})]})]},t))}),(0,s.jsx)("div",{className:"mt-4 p-3 bg-muted/50 rounded text-xs text-muted-foreground italic",children:"Internal note: Align this invoice with Q1 budget reallocation for HQ office supplies. Do not pay before 2025-03-20."})]}),(0,s.jsxs)("div",{className:"border-t border-border pt-4",children:[(0,s.jsx)("h3",{className:"text-sm font-medium mb-2",children:"Next actions"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mb-4",children:"Review approval status and schedule payment based on cash planning."}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,s.jsx)(i.Button,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none",children:"Approve for payment"}),(0,s.jsx)(i.Button,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none",children:"Put on hold"}),(0,s.jsx)(i.Button,{size:"sm",className:"flex-1 sm:flex-none",children:"Schedule payment"})]})]})]})]})]})]})})}e.s(["default",()=>m])}]);