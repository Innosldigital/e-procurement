(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,84762,e=>{"use strict";var s=e.i(43476),t=e.i(47163);function n({className:e,...n}){return(0,s.jsx)("textarea",{"data-slot":"textarea",className:(0,t.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...n})}e.s(["Textarea",()=>n])},61788,e=>{"use strict";var s=e.i(43476),t=e.i(94179),n=e.i(47163);function r({status:e,variant:r}){let a;return(0,s.jsx)(t.Badge,{variant:r||"secondary",className:(0,n.cn)("font-normal",(a=e?.toLowerCase()||"").includes("pending")||a.includes("review")?"bg-warning/20 text-warning-foreground hover:bg-warning/30 border-warning/30":a.includes("approved")||a.includes("active")||a.includes("delivered")||a.includes("closed")?"bg-success/20 text-success-foreground hover:bg-success/30 border-success/30":a.includes("rejected")||a.includes("overdue")||a.includes("critical")||a.includes("high")?"bg-destructive/20 text-destructive hover:bg-destructive/30 border-destructive/30":a.includes("medium")||a.includes("evaluation")||a.includes("open")?"bg-info/20 text-info-foreground hover:bg-info/30 border-info/30":"bg-muted text-muted-foreground hover:bg-muted/80"),children:e})}e.s(["StatusBadge",()=>r])},57401,e=>{"use strict";var s=e.i(43476),t=e.i(70065),n=e.i(67881),r=e.i(61788),a=e.i(94179),i=e.i(18566),l=e.i(95187),d=(0,l.createServerReference)("60ffeae0f462715ce4453dfb8488ae43f9be4f0331",l.callServer,void 0,l.findSourceMapURL,"approveRequest"),o=(0,l.createServerReference)("601b8cd2b7c1a147ad8fb3f20e688ae5c73cb54169",l.callServer,void 0,l.findSourceMapURL,"rejectRequest"),c=(0,l.createServerReference)("60e7628212e7a21fde957e4fcd651227af438be834",l.callServer,void 0,l.findSourceMapURL,"requestChanges"),u=e.i(71645),m=e.i(81140),x=e.i(20783),p=e.i(30030),g=e.i(10772),f=e.i(69340),h=e.i(26330),j=e.i(65491),v=e.i(74606),N=e.i(96626),b=e.i(48425),y=e.i(3536),C=e.i(85369),w=e.i(86312),D=e.i(91918),S="Dialog",[R,k]=(0,p.createContextScope)(S),[I,B]=R(S),P=e=>{let{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,d=u.useRef(null),o=u.useRef(null),[c=!1,m]=(0,f.useControllableState)({prop:r,defaultProp:a,onChange:i});return(0,s.jsx)(I,{scope:t,triggerRef:d,contentRef:o,contentId:(0,g.useId)(),titleId:(0,g.useId)(),descriptionId:(0,g.useId)(),open:c,onOpenChange:m,onOpenToggle:u.useCallback(()=>m(e=>!e),[m]),modal:l,children:n})};P.displayName=S;var _="DialogTrigger";u.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,a=B(_,n),i=(0,x.useComposedRefs)(t,a.triggerRef);return(0,s.jsx)(b.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Z(a.open),...r,ref:i,onClick:(0,m.composeEventHandlers)(e.onClick,a.onOpenToggle)})}).displayName=_;var E="DialogPortal",[F,O]=R(E,{forceMount:void 0}),M=e=>{let{__scopeDialog:t,forceMount:n,children:r,container:a}=e,i=B(E,t);return(0,s.jsx)(F,{scope:t,forceMount:n,children:u.Children.map(r,e=>(0,s.jsx)(N.Presence,{present:n||i.open,children:(0,s.jsx)(v.Portal,{asChild:!0,container:a,children:e})}))})};M.displayName=E;var T="DialogOverlay",q=u.forwardRef((e,t)=>{let n=O(T,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=B(T,e.__scopeDialog);return i.modal?(0,s.jsx)(N.Presence,{present:r||i.open,children:(0,s.jsx)(A,{...a,ref:t})}):null});q.displayName=T;var A=u.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,a=B(T,n);return(0,s.jsx)(C.RemoveScroll,{as:D.Slot,allowPinchZoom:!0,shards:[a.contentRef],children:(0,s.jsx)(b.Primitive.div,{"data-state":Z(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),$="DialogContent",z=u.forwardRef((e,t)=>{let n=O($,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=B($,e.__scopeDialog);return(0,s.jsx)(N.Presence,{present:r||i.open,children:i.modal?(0,s.jsx)(L,{...a,ref:t}):(0,s.jsx)(U,{...a,ref:t})})});z.displayName=$;var L=u.forwardRef((e,t)=>{let n=B($,e.__scopeDialog),r=u.useRef(null),a=(0,x.useComposedRefs)(t,n.contentRef,r);return u.useEffect(()=>{let e=r.current;if(e)return(0,w.hideOthers)(e)},[]),(0,s.jsx)(H,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,m.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:(0,m.composeEventHandlers)(e.onPointerDownOutside,e=>{let s=e.detail.originalEvent,t=0===s.button&&!0===s.ctrlKey;(2===s.button||t)&&e.preventDefault()}),onFocusOutside:(0,m.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),U=u.forwardRef((e,t)=>{let n=B($,e.__scopeDialog),r=u.useRef(!1),a=u.useRef(!1);return(0,s.jsx)(H,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,"pointerdown"===s.detail.originalEvent.type&&(a.current=!0));let t=s.target;n.triggerRef.current?.contains(t)&&s.preventDefault(),"focusin"===s.detail.originalEvent.type&&a.current&&s.preventDefault()}})}),H=u.forwardRef((e,t)=>{let{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...l}=e,d=B($,n),o=u.useRef(null),c=(0,x.useComposedRefs)(t,o);return(0,y.useFocusGuards)(),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.FocusScope,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:(0,s.jsx)(h.DismissableLayer,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Z(d.open),...l,ref:c,onDismiss:()=>d.onOpenChange(!1)})}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(es,{titleId:d.titleId}),(0,s.jsx)(et,{contentRef:o,descriptionId:d.descriptionId})]})]})}),K="DialogTitle",Q=u.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,a=B(K,n);return(0,s.jsx)(b.Primitive.h2,{id:a.titleId,...r,ref:t})});Q.displayName=K;var W="DialogDescription",G=u.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,a=B(W,n);return(0,s.jsx)(b.Primitive.p,{id:a.descriptionId,...r,ref:t})});G.displayName=W;var Y="DialogClose",V=u.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,a=B(Y,n);return(0,s.jsx)(b.Primitive.button,{type:"button",...r,ref:t,onClick:(0,m.composeEventHandlers)(e.onClick,()=>a.onOpenChange(!1))})});function Z(e){return e?"open":"closed"}V.displayName=Y;var J="DialogTitleWarning",[X,ee]=(0,p.createContext)(J,{contentName:$,titleName:K,docsSlug:"dialog"}),es=({titleId:e})=>{let s=ee(J),t=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return u.useEffect(()=>{e&&(document.getElementById(e)||console.error(t))},[t,e]),null},et=({contentRef:e,descriptionId:s})=>{let t=ee("DialogDescriptionWarning"),n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${t.contentName}}.`;return u.useEffect(()=>{let t=e.current?.getAttribute("aria-describedby");s&&t&&(document.getElementById(s)||console.warn(n))},[n,e,s]),null},en=e.i(41947),en=en,er=e.i(47163);function ea({...e}){return(0,s.jsx)(P,{"data-slot":"dialog",...e})}function ei({...e}){return(0,s.jsx)(M,{"data-slot":"dialog-portal",...e})}function el({className:e,...t}){return(0,s.jsx)(q,{"data-slot":"dialog-overlay",className:(0,er.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function ed({className:e,children:t,showCloseButton:n=!0,...r}){return(0,s.jsxs)(ei,{"data-slot":"dialog-portal",children:[(0,s.jsx)(el,{}),(0,s.jsxs)(z,{"data-slot":"dialog-content",className:(0,er.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,n&&(0,s.jsxs)(V,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(en.default,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function eo({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,er.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function ec({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"dialog-footer",className:(0,er.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function eu({className:e,...t}){return(0,s.jsx)(Q,{"data-slot":"dialog-title",className:(0,er.cn)("text-lg leading-none font-semibold",e),...t})}function em({className:e,...t}){return(0,s.jsx)(G,{"data-slot":"dialog-description",className:(0,er.cn)("text-muted-foreground text-sm",e),...t})}var ex=e.i(84762);let ep=e=>e?new Date(e).toISOString().slice(0,10):"",eg=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(e);function ef({approvals:e}){let l=(0,i.useSearchParams)(),m=(0,i.useRouter)(),x=l.get("id")||"",p=l.get("itemId")||"",g=e.length?e.find(e=>p?[e.itemId,e.requisitionId,e.approvalId,e._id].some(e=>String(e)===String(p)):String(e._id)===String(x))||e[0]:null,[f,h]=(0,u.useState)(null),[j,v]=(0,u.useState)(null),[N,b]=(0,u.useState)(!1),[y,C]=(0,u.useState)(""),[w,D]=(0,u.useState)(!1),[S,R]=(0,u.useState)(""),k=(0,u.useRef)(null),I=async()=>{if(!g?._id)return;v(null),h("approve");let e=await d(String(g._id));(h(null),e?.success)?m.refresh():v(e?.error||"Failed to approve")},B=async()=>{if(!g?._id)return;v(null),h("reject");let e=await o(String(g._id),y);(h(null),e?.success)?(b(!1),m.refresh()):v(e?.error||"Failed to reject")},P=async()=>{if(!g?._id)return;v(null);let e=(k.current?.innerHTML||"").trim();if(!e)return;h("changes");let s=await c(String(g._id),e);(h(null),s?.success)?(D(!1),m.refresh()):v(s?.error||"Failed to request changes")};return(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Card,{className:"mb-6",children:(0,s.jsxs)(t.CardContent,{className:"pt-4 md:pt-6",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2 md:gap-4 mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:"Queue:"}),(0,s.jsx)(a.Badge,{variant:"secondary",className:"text-xs",children:"My approvals"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:"Type:"}),(0,s.jsx)(a.Badge,{variant:"secondary",className:"text-xs",children:"Requisitions, POs"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:"Priority:"}),(0,s.jsx)(a.Badge,{variant:"secondary",className:"text-xs",children:"High-first"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:"SLA:"}),(0,s.jsx)(a.Badge,{variant:"secondary",className:"text-xs",children:"Due in 3 days"})]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2 md:gap-4 text-xs text-muted-foreground",children:[(0,s.jsxs)("span",{children:[e.length," items in your approval queue"]}),(0,s.jsx)("span",{children:"3 items breaching SLA"})]})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 md:gap-6",children:[(0,s.jsxs)(t.Card,{className:"lg:col-span-5",children:[(0,s.jsxs)(t.CardHeader,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(t.CardTitle,{className:"text-base",children:"My approval queue"}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:"Grouped by due date"})]}),(0,s.jsx)(t.CardDescription,{className:"text-xs",children:"Select an item to review and take action."})]}),(0,s.jsxs)(t.CardContent,{children:[(0,s.jsx)("div",{className:"space-y-1",children:0===e.length?(0,s.jsx)("div",{className:"text-center py-8 text-muted-foreground text-sm",children:"No approvals pending. Connect to MongoDB to see data."}):e.slice(0,10).map(e=>(0,s.jsxs)("div",{onClick:()=>{var s;let t;return s=String(e._id),t=`/approvals?id=${String(s)}`,void m.replace(t,{scroll:!1})},className:`p-3 rounded-lg cursor-pointer border transition-colors ${String(g?._id)===String(e._id)?"bg-accent/50 border-border":"hover:bg-accent border-transparent hover:border-border"}`,children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-medium text-sm mb-1",children:e.itemId}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:[e.type," • ",e.requester]})]}),(0,s.jsx)(r.StatusBadge,{status:e.status})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(r.StatusBadge,{status:e.priority}),(0,s.jsxs)("span",{className:"text-muted-foreground",children:["Due: ",ep(e.dueDate)]})]}),(0,s.jsxs)("span",{className:"font-medium",children:["$",eg(e.amount)]})]})]},String(e._id)))}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-4 px-3",children:"Tip: Use Bulk approve above for low-risk, policy-compliant requests."})]})]}),(0,s.jsxs)(t.Card,{className:"lg:col-span-7",children:[(0,s.jsx)(t.CardHeader,{className:"border-b pb-4",children:g?(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[(0,s.jsxs)(t.CardTitle,{className:"text-sm md:text-base",children:[g.itemId," • ",g.type]}),(0,s.jsx)(r.StatusBadge,{status:g.status})]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2 md:gap-4 text-xs text-muted-foreground",children:[(0,s.jsxs)("span",{children:["Requester: ",g.requester]}),(0,s.jsxs)("span",{children:["Type: ",g.type]}),(0,s.jsxs)("span",{children:["Due: ",ep(g.dueDate)]})]})]}):(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:"Select an approval from the left"})}),(0,s.jsx)(t.CardContent,{className:"pt-4 md:pt-6",children:(0,s.jsxs)("div",{className:"space-y-4 md:space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Decision context"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Total amount"}),(0,s.jsxs)("div",{className:"font-medium",children:["$",g?eg(g.amount):"-"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Budget impact"}),(0,s.jsx)("div",{className:"font-medium",children:"Remaining after approval: $210,000"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Risk & policy"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(r.StatusBadge,{status:g?g.priority:"-"}),(0,s.jsxs)("span",{className:"text-xs",children:["SLA: ",g?ep(g.dueDate):"-"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"SLA"}),(0,s.jsxs)("div",{className:"font-medium",children:["Due: ",g?ep(g.dueDate):"-"]})]})]})]})]}),(0,s.jsxs)("div",{className:"pt-4 border-t",children:[(0,s.jsx)("h3",{className:"text-sm font-medium mb-3",children:"Summary & items"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Category"}),(0,s.jsx)("span",{children:"Marketing & events"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Needed by"}),(0,s.jsx)("span",{children:"2025-04-01"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Supplier preference"}),(0,s.jsx)("span",{children:"Existing panel suppliers only"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Approval route"}),(0,s.jsx)("span",{children:"You → Finance → Marketing Director"})]})]})]}),(0,s.jsxs)("div",{className:"pt-4 border-t",children:[(0,s.jsx)("h3",{className:"text-sm font-medium mb-3",children:"Item"}),(0,s.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,s.jsxs)("table",{className:"w-full text-xs",children:[(0,s.jsx)("thead",{className:"bg-muted/50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-left p-2 font-medium",children:"Item"}),(0,s.jsx)("th",{className:"text-right p-2 font-medium",children:"Qty"}),(0,s.jsx)("th",{className:"text-right p-2 font-medium",children:"Unit"}),(0,s.jsx)("th",{className:"text-right p-2 font-medium",children:"Unit cost"}),(0,s.jsx)("th",{className:"text-right p-2 font-medium",children:"Total"})]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{className:"border-t",children:[(0,s.jsx)("td",{className:"p-2",children:"Digital ads package (Q2)"}),(0,s.jsx)("td",{className:"text-right p-2",children:"1"}),(0,s.jsx)("td",{className:"text-right p-2",children:"Package"}),(0,s.jsx)("td",{className:"text-right p-2",children:"$32,000"}),(0,s.jsx)("td",{className:"text-right p-2",children:"$32,000"})]}),(0,s.jsxs)("tr",{className:"border-t",children:[(0,s.jsx)("td",{className:"p-2",children:"Event sponsorship - Singapore summit"}),(0,s.jsx)("td",{className:"text-right p-2",children:"1"}),(0,s.jsx)("td",{className:"text-right p-2",children:"Event"}),(0,s.jsx)("td",{className:"text-right p-2",children:"$24,000"}),(0,s.jsx)("td",{className:"text-right p-2",children:"$24,000"})]}),(0,s.jsxs)("tr",{className:"border-t",children:[(0,s.jsx)("td",{className:"p-2",children:"Creative agency support"}),(0,s.jsx)("td",{className:"text-right p-2",children:"40"}),(0,s.jsx)("td",{className:"text-right p-2",children:"Hours"}),(0,s.jsx)("td",{className:"text-right p-2",children:"$170"}),(0,s.jsx)("td",{className:"text-right p-2",children:"$6,800"})]})]})]})})]}),(0,s.jsxs)("div",{className:"pt-4 border-t",children:[(0,s.jsx)("h3",{className:"text-sm font-medium mb-2",children:"Comments & notes"}),(0,s.jsx)("div",{className:"bg-muted/30 p-3 rounded-lg text-xs",children:(0,s.jsx)("p",{className:"italic text-muted-foreground",children:'"Budget aligned with Q2 regional plan. Please confirm final media split before issuing PO." - David Kim, 2025-03-13'})})]}),(0,s.jsxs)("div",{className:"pt-4 border-t",children:[(0,s.jsx)("h3",{className:"text-sm font-medium mb-3",children:"Your decision"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mb-4",children:"Actions are logged and visible to requester and downstream approvers."}),j&&(0,s.jsx)("div",{className:"text-xs text-destructive",children:j}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,s.jsx)(n.Button,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none",onClick:()=>{R(""),D(!0)},disabled:!g||null!==f,children:"changes"===f?"Processing...":"Request changes"}),(0,s.jsx)(n.Button,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none",onClick:()=>{C(""),b(!0)},disabled:!g||null!==f,children:"reject"===f?"Processing...":"Reject"}),(0,s.jsx)(n.Button,{size:"sm",className:"flex-1",onClick:I,disabled:!g||null!==f,children:"approve"===f?"Processing...":"Approve"})]})]})]})})]}),(0,s.jsx)(ea,{open:N,onOpenChange:b,children:(0,s.jsxs)(ed,{children:[(0,s.jsxs)(eo,{children:[(0,s.jsx)(eu,{children:"Reject approval"}),(0,s.jsx)(em,{children:"Enter a reason for rejection"})]}),(0,s.jsx)(ex.Textarea,{value:y,onChange:e=>C(e.target.value),placeholder:"Reason"}),(0,s.jsxs)(ec,{children:[(0,s.jsx)(n.Button,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),(0,s.jsx)(n.Button,{onClick:B,disabled:!y||null!==f,children:"reject"===f?"Processing...":"Confirm rejection"})]})]})}),(0,s.jsx)(ea,{open:w,onOpenChange:D,children:(0,s.jsxs)(ed,{children:[(0,s.jsxs)(eo,{children:[(0,s.jsx)(eu,{children:"Request changes"}),(0,s.jsx)(em,{children:"Describe requested changes"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(n.Button,{variant:"outline",size:"icon-sm",onMouseDown:e=>e.preventDefault(),onClick:()=>document.execCommand("bold"),children:"B"}),(0,s.jsx)(n.Button,{variant:"outline",size:"icon-sm",onMouseDown:e=>e.preventDefault(),onClick:()=>document.execCommand("italic"),children:"I"}),(0,s.jsx)(n.Button,{variant:"outline",size:"icon-sm",onMouseDown:e=>e.preventDefault(),onClick:()=>document.execCommand("underline"),children:"U"}),(0,s.jsx)(n.Button,{variant:"outline",size:"icon-sm",onMouseDown:e=>e.preventDefault(),onClick:()=>document.execCommand("insertUnorderedList"),children:"•"}),(0,s.jsx)(n.Button,{variant:"outline",size:"icon-sm",onMouseDown:e=>e.preventDefault(),onClick:()=>{let e=prompt("Link URL")||"";e&&document.execCommand("createLink",!1,e)},children:"↗"})]}),(0,s.jsx)("div",{ref:k,contentEditable:!0,className:"min-h-[140px] p-3 border rounded-md bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring",onInput:e=>R(e.target.innerHTML),suppressContentEditableWarning:!0}),(0,s.jsxs)(ec,{children:[(0,s.jsx)(n.Button,{variant:"outline",onClick:()=>D(!1),children:"Cancel"}),(0,s.jsx)(n.Button,{onClick:P,disabled:!S||null!==f,children:"changes"===f?"Processing...":"Submit changes"})]})]})})]})]})}e.s(["default",()=>ef],57401)}]);