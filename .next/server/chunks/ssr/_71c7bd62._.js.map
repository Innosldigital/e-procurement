{"version":3,"sources":["../../../../components/dashboard-client.tsx/__nextjs-internal-proxy.mjs","../../../../components/requisitions-table.tsx/__nextjs-internal-proxy.mjs","../../../../app/%28app%29/requisitions/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const DashboardClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call DashboardClient() from the server but DashboardClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/dashboard-client.tsx\",\n    \"DashboardClient\",\n);\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/dashboard-client.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/dashboard-client.tsx\",\n    \"default\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/requisitions-table.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/requisitions-table.tsx\",\n    \"default\",\n);\n","import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { StatusBadge } from \"@/components/status-badge\"\nimport { getRequisitions } from \"@/lib/actions/requisition-actions\"\nimport DashboardClient from \"@/components/dashboard-client\"\nimport RequisitionsTable from \"@/components/requisitions-table\"\nexport const dynamic = 'force-dynamic'\n\ntype RequisitionSummary = {\n  _id: string\n  requisitionId: string\n  requester: string\n  branch: string\n  date: string | Date\n  status: string\n  amount: number\n}\n\nexport default async function RequisitionsPage() {\n  const result = await getRequisitions()\n  const requisitions = (result.success ? result.data : []) as RequisitionSummary[]\n  const recent = requisitions\n    .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime())\n    .slice(0, 20)\n\n  const pendingCount = requisitions.filter(r => r.status === 'Pending approval').length\n  const reviewCount = requisitions.filter(r => r.status === 'In review').length\n  const approvedCount = requisitions.filter(r => r.status === 'Approved').length\n  const rejectedCount = requisitions.filter(r => r.status === 'Rejected').length\n\n  return (\n    <div className=\"p-4 md:p-6\">\n      <div className=\"mb-6 flex items-center justify-between\">\n        <CardTitle className=\"text-base\">Requisitions</CardTitle>\n        <DashboardClient />\n      </div>\n\n      <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4 mb-6\">\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardDescription className=\"text-xs\">Pending approval</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold\">{pendingCount}</div>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardDescription className=\"text-xs\">In review</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold\">{reviewCount}</div>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardDescription className=\"text-xs\">Approved</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold\">{approvedCount}</div>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardDescription className=\"text-xs\">Rejected</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold\">{rejectedCount}</div>\n          </CardContent>\n        </Card>\n      </div>\n\n      <RequisitionsTable items={requisitions} />\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1]}