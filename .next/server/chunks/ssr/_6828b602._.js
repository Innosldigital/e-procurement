module.exports=[94391,a=>{"use strict";var b=a.i(26046);let c=new b.Schema({supplierId:{type:String,required:!0,unique:!0},name:{type:String,required:!0},approved:{type:Boolean,default:!1},ownerUserId:{type:String,required:!0,index:!0},segment:{type:String},category:{type:String},region:{type:String},onboarding:{contactPerson:String,phone:String,email:String,goodsType:String,productCategories:[String],supplyAreas:[String],deliveryTimeline:String,priceListUploads:[{name:String,size:Number,type:String}],registrationCertificateUploads:[{name:String,size:Number,type:String}],businessRegistrationCertificateUploads:[{name:String,size:Number,type:String}],taxClearanceCertificateUploads:[{name:String,size:Number,type:String}],gstVatRegistrationCertificateUploads:[{name:String,size:Number,type:String}],businessLicenseUploads:[{name:String,size:Number,type:String}],nassitCertificateUploads:[{name:String,size:Number,type:String}],sectorSpecificCertificateUploads:[{name:String,size:Number,type:String}],paymentMethods:[String],bankDetails:{bankName:String,accountName:String,accountNumber:String,prefersCash:Boolean},declarations:{infoAccurate:Boolean,agreeRules:Boolean}},risk:{type:String,enum:["Low","Medium","High","Under review"]},onTimePerformance:{type:Number},fy24Spend:{type:Number},performanceScore:{type:Number},riskStatus:{type:String},primaryCategory:{type:String},commercialTerms:{paymentTerms:String,diversityStatus:String},performanceMetrics:{deliveryPerformance:{onTime:Number,avgLeadTime:Number,lateDeliveries:Number},qualityMetrics:{returnRate:Number,qualityIncidents:Number,criticalEvents:Number},financialMetrics:{externalRating:String,creditLimit:Number,overdueInvoices:Boolean,paymentAge:Number},complianceStatus:{kyc:String,aml:String,insuranceCerts:Boolean,sanctions:String}},contacts:[{role:String,name:String,email:String,phone:String}],documents:[{name:String,type:String,size:String,signedDate:String,expiresDate:String,owner:String}],recentActivity:[{event:String,date:String,owner:String}]},{timestamps:!0}),d=b.models.Supplier||(0,b.model)("Supplier",c);a.s(["Supplier",0,d])},20724,a=>{"use strict";var b=a.i(37936),c=a.i(18558),d=a.i(22017),e=a.i(94391);async function f(){try{await (0,d.default)();let a=await e.Supplier.find({approved:!0}).sort({performanceScore:-1}).limit(50).lean();return{success:!0,data:JSON.parse(JSON.stringify(a))}}catch(a){return console.error("[v0] Error fetching suppliers:",a),{success:!1,error:"Failed to fetch suppliers"}}}async function g(a){try{await (0,d.default)();let b=await e.Supplier.findById(a).lean();if(!b)return{success:!1,error:"Supplier not found"};return{success:!0,data:JSON.parse(JSON.stringify(b))}}catch(a){return console.error("[v0] Error fetching supplier:",a),{success:!1,error:"Failed to fetch supplier"}}}async function h(a){try{await (0,d.default)();let b=await e.Supplier.create(a);return(0,c.revalidatePath)("/suppliers"),{success:!0,data:JSON.parse(JSON.stringify(b))}}catch(a){return console.error("[v0] Error creating supplier:",a),{success:!1,error:"Failed to create supplier"}}}async function i(a,b){try{await (0,d.default)();let f=await e.Supplier.findByIdAndUpdate(a,b,{new:!0}).lean();if(!f)return{success:!1,error:"Supplier not found"};return(0,c.revalidatePath)("/suppliers"),(0,c.revalidatePath)(`/suppliers/${a}`),{success:!0,data:JSON.parse(JSON.stringify(f))}}catch(a){return console.error("[v0] Error updating supplier:",a),{success:!1,error:"Failed to update supplier"}}}async function j(a){try{if(await (0,d.default)(),!await e.Supplier.findByIdAndDelete(a))return{success:!1,error:"Supplier not found"};return(0,c.revalidatePath)("/suppliers"),{success:!0}}catch(a){return console.error("[v0] Error deleting supplier:",a),{success:!1,error:"Failed to delete supplier"}}}(0,a.i(13095).ensureServerEntryExports)([f,g,h,i,j]),(0,b.registerServerReference)(f,"00acbb6e695774d924e05f0e0a179080700111a9b9",null),(0,b.registerServerReference)(g,"4090a6d6e078357e2bcc2a50582c33127f1c659dc5",null),(0,b.registerServerReference)(h,"405b16f9390feda0d57de1367cf250e9c37ac3cbe5",null),(0,b.registerServerReference)(i,"600f467f1c11cdae2c2ca3ff1554bd9b8b6f59ca58",null),(0,b.registerServerReference)(j,"402da2b8281da70c47f8f561ab861bf4babffafea8",null),a.s(["createSupplier",()=>h,"deleteSupplier",()=>j,"getSupplierById",()=>g,"getSuppliers",()=>f,"updateSupplier",()=>i])},27607,a=>{"use strict";var b=a.i(37936);a.i(44721);var c=a.i(5246);async function d(){(await (0,c.cookies)()).delete(`__clerk_invalidate_cache_cookie_${Date.now()}`)}(0,a.i(13095).ensureServerEntryExports)([d]),(0,b.registerServerReference)(d,"7f7028896c8082e0c1f396f4d9a06959ec42b1d08a",null),a.s(["invalidateCacheAction",()=>d])},7e3,a=>{"use strict";var b=a.i(26022),c=a.i(27607),d=a.i(85978),e=a.i(74377),f=a.i(43386),g=a.i(22752),h=a.i(20724),i=a.i(24622),j=a.i(41783);a.s([],26124),a.i(26124),a.s(["002a32689d17cb2cb93efe0d9a0dde8c0edec41c9c",()=>e.markAllAsRead,"00acbb6e695774d924e05f0e0a179080700111a9b9",()=>h.getSuppliers,"00be20e6109a2a8bfeb45dc52d89ce9cb3529fad93",()=>j.getApprovals,"00e7b4a1c132478642418d345503f4c53bdb390c9c",()=>e.getUnreadCount,"00e9a018658eb7e03331b6cc284e99f89a37d0d11b",()=>g.getPurchaseOrders,"00edf2497aa68ccbd564b9525e653a469b4a592936",()=>i.getInvoices,"00f4030896116c02808b53faf984df59a1de335173",()=>f.getRequisitions,"4012a4770a5fca10e2a3ff1d52fc6907455ac5eee8",()=>e.markAsRead,"4038dfb1dece52774e405a3da827c0072c4eb6aa73",()=>e.getNotifications,"4063e6dc301d47e91bde494afbc0d7a04d3079b4db",()=>e.deleteNotification,"7f07616d1842b196e75d3764badc0c908a989af9f9",()=>b.deleteKeylessAction,"7f1dbd68cb8e312051904c740c31183700f8d1735b",()=>b.detectKeylessEnvDriftAction,"7f1ede8bc9d9446f8123ff7d3c19d928c3e8517cde",()=>b.syncKeylessConfigAction,"7f7028896c8082e0c1f396f4d9a06959ec42b1d08a",()=>c.invalidateCacheAction,"7f770e265b733918dbea7c626386b020f2422cfea4",()=>d.formatMetadataHeaders,"7f8d998a6efbd0c4b96f44e255714ffadbe9a58ab2",()=>b.createOrReadKeylessAction,"7fcb3eace087d4a182205618daa34bbc74fd3410aa",()=>d.collectKeylessMetadata],7e3)}];

//# sourceMappingURL=_6828b602._.js.map