module.exports=[46397,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(21161),e=a.i(15618),f=a.i(83497),g=a.i(4720);let h=(0,a.i(70106).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var i=a.i(92e3),j=a.i(24017),k=a.i(84994),l=a.i(5050),m=(0,l.createServerReference)("40d2ad5d3baa7b392b04fbb82797f2594544e39509",l.callServer,void 0,l.findSourceMapURL,"closePurchaseOrder"),n=a.i(33508),o=a.i(81560),p=a.i(40695),q=a.i(5522),r=a.i(17171),s=a.i(46893),t=a.i(87682),u=(0,l.createServerReference)("40205469e8fc58204db1420bdbaca451da4e1cae08",l.callServer,void 0,l.findSourceMapURL,"createPurchaseOrder");function v({onClose:a,onCreated:d}){let[f,g]=(0,c.useTransition)(),[h,i]=(0,c.useState)([{id:"1",description:"",qty:1,unitPrice:0,total:0}]),j=(a,b,c)=>{i(h.map(d=>{if(d.id===a){let a={...d,[b]:c};return("qty"===b||"unitPrice"===b)&&(a.total=(Number(a.qty)||0)*(Number(a.unitPrice)||0)),a}return d}))},k=h.reduce((a,b)=>a+(Number(b.total)||0),0),l=async b=>{b.preventDefault();let c=new FormData(b.currentTarget),e=String(c.get("supplier")||""),f=String(c.get("requester")||""),i=String(c.get("department")||""),j=String(c.get("linkedRequisition")||""),k=String(c.get("currency")||"USD"),l=String(c.get("purpose")||""),m=String(c.get("paymentTerms")||""),n=String(c.get("requestedDelivery")||""),o=n?new Date(n):void 0;g(async()=>{let b=await u({supplier:e,requester:f,department:i,linkedRequisition:j,currency:k,purpose:l,paymentTerms:m,requestedDelivery:o,lineItems:h.map(a=>({description:a.description,qty:a.qty,unitPrice:a.unitPrice}))});b.success?(d&&d(),a()):alert(b.error||"Failed to create purchase order")})};return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"bg-background rounded-lg shadow-lg w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 md:p-6 border-b",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg md:text-xl font-semibold",children:"Create Purchase Order"}),(0,b.jsx)("p",{className:"text-xs md:text-sm text-muted-foreground mt-1",children:"Issue a new purchase order to a supplier"})]}),(0,b.jsx)(p.Button,{variant:"ghost",size:"icon",onClick:a,children:(0,b.jsx)(n.X,{className:"h-5 w-5"})})]}),(0,b.jsxs)("form",{onSubmit:l,className:"flex-1 overflow-y-auto",children:[(0,b.jsxs)("div",{className:"p-4 md:p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm",children:"Header"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(r.Label,{htmlFor:"supplier",children:"Supplier *"}),(0,b.jsx)(q.Input,{id:"supplier",name:"supplier",required:!0,placeholder:"Enter supplier name"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(r.Label,{htmlFor:"requester",children:"Requester"}),(0,b.jsx)(q.Input,{id:"requester",name:"requester",placeholder:"Requester name"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(r.Label,{htmlFor:"department",children:"Department"}),(0,b.jsx)(q.Input,{id:"department",name:"department",placeholder:"Department"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(r.Label,{htmlFor:"linkedRequisition",children:"Linked Requisition"}),(0,b.jsx)(q.Input,{id:"linkedRequisition",name:"linkedRequisition",placeholder:"REQ-xxxx"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(r.Label,{htmlFor:"currency",children:"Currency"}),(0,b.jsxs)(t.Select,{name:"currency",defaultValue:"USD",children:[(0,b.jsx)(t.SelectTrigger,{children:(0,b.jsx)(t.SelectValue,{placeholder:"Select currency"})}),(0,b.jsxs)(t.SelectContent,{children:[(0,b.jsx)(t.SelectItem,{value:"USD",children:"USD"}),(0,b.jsx)(t.SelectItem,{value:"EUR",children:"EUR"}),(0,b.jsx)(t.SelectItem,{value:"GBP",children:"GBP"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(r.Label,{htmlFor:"requestedDelivery",children:"Requested Delivery"}),(0,b.jsx)(q.Input,{id:"requestedDelivery",name:"requestedDelivery",type:"date"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm",children:"Commercial terms"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(r.Label,{htmlFor:"purpose",children:"Purpose"}),(0,b.jsx)(s.Textarea,{id:"purpose",name:"purpose",rows:3,placeholder:"Describe the purpose of this PO"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(r.Label,{htmlFor:"paymentTerms",children:"Payment terms"}),(0,b.jsx)(q.Input,{id:"paymentTerms",name:"paymentTerms",placeholder:"e.g., Net 30"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm",children:"Line items"}),(0,b.jsxs)(p.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>{i([...h,{id:Date.now().toString(),description:"",qty:1,unitPrice:0,total:0}])},children:[(0,b.jsx)(e.Plus,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),(0,b.jsx)("div",{className:"space-y-3",children:h.map((a,c)=>(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-3 items-start p-3 md:p-4 border rounded-lg",children:[(0,b.jsxs)("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3 w-full",children:[(0,b.jsxs)("div",{className:"col-span-1 sm:col-span-2 lg:col-span-3 space-y-2",children:[(0,b.jsx)(r.Label,{className:"text-xs",children:"Description"}),(0,b.jsx)(q.Input,{placeholder:"Item description",value:a.description,onChange:b=>j(a.id,"description",b.target.value),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(r.Label,{className:"text-xs",children:"Quantity"}),(0,b.jsx)(q.Input,{type:"number",min:"1",value:a.qty,onChange:b=>j(a.id,"qty",Number(b.target.value)),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(r.Label,{className:"text-xs",children:"Unit Price ($)"}),(0,b.jsx)(q.Input,{type:"number",min:"0",step:"0.01",value:a.unitPrice,onChange:b=>j(a.id,"unitPrice",Number(b.target.value)),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(r.Label,{className:"text-xs",children:"Total"}),(0,b.jsx)(q.Input,{value:a.total,readOnly:!0})]})]}),(0,b.jsx)(p.Button,{type:"button",variant:"ghost",size:"icon",onClick:()=>{var b;return b=a.id,void(h.length>1&&i(h.filter(a=>a.id!==b)))},"aria-label":"Remove item",children:(0,b.jsx)(o.Trash2,{className:"h-4 w-4"})})]},a.id))})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total"}),(0,b.jsxs)("div",{className:"font-semibold",children:["$",k.toLocaleString()]})]})]}),(0,b.jsxs)("div",{className:"p-4 md:p-6 border-t flex items-center justify-end gap-2",children:[(0,b.jsx)(p.Button,{variant:"outline",type:"button",onClick:a,children:"Cancel"}),(0,b.jsx)(p.Button,{type:"submit",disabled:f,children:f?"Issuing...":"Issue PO"})]})]})]})})}let w=a=>a?new Date(a).toISOString().slice(0,10):"",x=a=>new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(a);function y(){let[a,l]=(0,c.useState)([]),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(null),[t,u]=(0,c.useState)(null),[y,z]=(0,c.useState)(!1);(0,c.useEffect)(()=>{let a=!0;return q(!0),(0,k.getPurchaseOrders)().then(b=>{let c=b&&b.success?b.data:[];a&&(l(c),o(c[0]||null))}).catch(()=>{a&&(l([]),o(null))}).finally(()=>{a&&q(!1)}),()=>{a=!1}},[]);let A=(a,b)=>{u({message:a,type:b}),setTimeout(()=>u(null),3e3)},B=async()=>{s("receive"),setTimeout(()=>{A("Goods receipt recorded successfully","success"),s(null)},1e3)},C=async()=>{s("invoice"),setTimeout(()=>{A("Invoice draft created","success"),s(null)},1e3)},D=async()=>{if(n)try{s("close");let a=await m(n._id);if(a&&a.success){let a=await (0,k.getPurchaseOrders)();if(a&&a.success){l(a.data);let b=a.data.find(a=>a._id===n._id)||a.data[0]||null;o(b)}A("Purchase order closed","success")}else A(a?.error||"Failed to close purchase order","error")}catch(a){A("Failed to close purchase order","error")}finally{s(null)}};return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t&&(0,b.jsx)("div",{className:`fixed top-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg ${"success"===t.type?"bg-green-500":"bg-red-500"} text-white`,children:t.message}),(0,b.jsx)("div",{className:"bg-white border-b",children:(0,b.jsxs)("div",{className:" px-4 sm:px-6 lg:px-6 py-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Purchase Orders"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Track issuance, receipt, and invoicing status across your POs."})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[(0,b.jsx)(d.Settings,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"PO settings"})]}),(0,b.jsxs)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",onClick:()=>z(!0),children:[(0,b.jsx)(e.Plus,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"New PO"})]})]})]}),(0,b.jsxs)("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-600",children:"View:"})," ",(0,b.jsx)("span",{className:"font-medium",children:"Open & partially received"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Status:"})," ",(0,b.jsx)("span",{className:"font-medium",children:"Pending receipt, Pending invoice"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Supplier:"})," ",(0,b.jsx)("span",{className:"font-medium",children:"Top 20 strategic"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Date:"})," ",(0,b.jsx)("span",{className:"font-medium",children:"Last 90 days"})]})]}),(0,b.jsxs)("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-blue-900",children:a.length}),(0,b.jsx)("div",{className:"text-sm text-blue-700",children:"open POs"})]}),(0,b.jsxs)("div",{className:"bg-yellow-50 p-3 rounded-lg",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-yellow-900",children:a.filter(a=>(a.status||"").toLowerCase().includes("pending receipt")).length}),(0,b.jsx)("div",{className:"text-sm text-yellow-700",children:"awaiting receipt"})]}),(0,b.jsxs)("div",{className:"bg-purple-50 p-3 rounded-lg",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-purple-900",children:a.filter(a=>(a.status||"").toLowerCase().includes("pending invoice")).length}),(0,b.jsx)("div",{className:"text-sm text-purple-700",children:"pending invoice"})]})]})]})}),(0,b.jsxs)("div",{className:"px-4 sm:px-6 lg:px-6 py-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsx)("div",{className:"lg:col-span-1",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,b.jsxs)("div",{className:"p-4 border-b",children:[(0,b.jsx)("h2",{className:"font-semibold text-gray-900",children:"PO worklist"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Select a PO to review receipt and invoicing details."}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Sorted by delivery date"})]}),(0,b.jsx)("div",{className:"divide-y max-h-[600px] overflow-y-auto",children:p?(0,b.jsx)("div",{className:"p-8 text-center text-gray-500",children:"Loading purchase orders..."}):0===a.length?(0,b.jsx)("div",{className:"p-8 text-center text-gray-500",children:"No purchase orders found."}):a.map(a=>(0,b.jsxs)("button",{onClick:()=>o(a),className:`w-full text-left p-4 hover:bg-gray-50 transition-colors ${n?._id===a._id?"bg-blue-50":""}`,children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,b.jsx)("div",{className:"font-semibold text-gray-900",children:a.poNumber}),(0,b.jsx)(j.StatusBadge,{status:a.status})]}),(0,b.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:a.supplier}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsxs)("span",{className:"font-medium text-gray-900",children:["$",x(a.total)]}),(0,b.jsx)("span",{className:"text-gray-500",children:w(a.keyDates?.requestedDelivery)})]})]},a._id))}),(0,b.jsx)("div",{className:"p-4 bg-blue-50 border-t",children:(0,b.jsx)("p",{className:"text-xs text-blue-800",children:'ðŸ’¡ Tip: Switch "View" to see only POs blocked by invoice or receipt issues.'})})]})}),(0,b.jsx)("div",{className:"lg:col-span-2",children:n&&(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,b.jsxs)("div",{className:"p-6 border-b",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:[n.poNumber," Â· ",n.supplier]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-4 mt-2 text-sm text-gray-600",children:[(0,b.jsxs)("span",{children:["Requester: ",n.requester]}),(0,b.jsxs)("span",{children:["Department: ",n.department]})]})]}),(0,b.jsx)(j.StatusBadge,{status:n.status})]}),(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(f.Package,{className:"w-5 h-5 text-gray-600"}),(0,b.jsxs)("span",{className:"font-medium",children:[n.lineItems.filter(a=>(a.received||0)>=(a.ordered||0)).length," of ",n.lineItems.length," lines fully received"]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[(0,b.jsxs)("span",{children:["Linked requisition: ",n.linkedRequisition]}),(0,b.jsxs)("span",{children:["Currency: ",n.currency]})]})]})]}),(0,b.jsxs)("div",{className:"p-6 border-b",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Summary & commercial terms"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Purpose"}),(0,b.jsx)("div",{className:"text-gray-900",children:n.purpose})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"PO value"}),(0,b.jsxs)("div",{className:"text-gray-900",children:["$",x(n.total)," Â· Tax exclusive"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Payment terms"}),(0,b.jsx)("div",{className:"text-gray-900",children:n.paymentTerms})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Key dates"}),(0,b.jsxs)("div",{className:"text-gray-900",children:["Issued: ",w(n.keyDates?.issued)," Â· Delivery: ",w(n.keyDates?.requestedDelivery)]})]})]})]}),(0,b.jsxs)("div",{className:"p-6 border-b",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Line items & receipt status"}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"text-left p-3 font-medium text-gray-700",children:"Line"}),(0,b.jsx)("th",{className:"text-left p-3 font-medium text-gray-700",children:"Description"}),(0,b.jsx)("th",{className:"text-right p-3 font-medium text-gray-700",children:"Ordered"}),(0,b.jsx)("th",{className:"text-right p-3 font-medium text-gray-700",children:"Received"}),(0,b.jsx)("th",{className:"text-right p-3 font-medium text-gray-700",children:"Remaining"}),(0,b.jsx)("th",{className:"text-right p-3 font-medium text-gray-700",children:"Total"})]})}),(0,b.jsx)("tbody",{className:"divide-y",children:n.lineItems.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"p-3",children:a.line}),(0,b.jsx)("td",{className:"p-3",children:a.description}),(0,b.jsx)("td",{className:"p-3 text-right",children:a.ordered}),(0,b.jsx)("td",{className:"p-3 text-right",children:(0,b.jsx)("span",{className:a.received===a.ordered?"text-green-600 font-medium":"",children:a.received})}),(0,b.jsx)("td",{className:"p-3 text-right",children:(0,b.jsx)("span",{className:a.remaining>0?"text-yellow-600 font-medium":"",children:a.remaining})}),(0,b.jsxs)("td",{className:"p-3 text-right font-medium",children:["$",x(a.lineTotal)]})]},a.line))})]})})]}),(0,b.jsxs)("div",{className:"p-6 border-b",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Delivery & invoicing"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Ship-to location"}),(0,b.jsx)("div",{className:"text-gray-900",children:n.delivery?.shipTo})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Invoice-to"}),(0,b.jsx)("div",{className:"text-gray-900",children:n.delivery?.invoiceTo})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Receipt status"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(n.receiptStatus?.status||"").toLowerCase().includes("fully received")?(0,b.jsx)(h,{className:"w-4 h-4 text-green-600"}):(0,b.jsx)(i.AlertCircle,{className:"w-4 h-4 text-yellow-600"}),(0,b.jsx)("span",{className:"text-gray-900",children:n.receiptStatus?.status})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Invoice status"}),(0,b.jsx)("div",{className:"text-gray-900",children:n.invoiceStatus?.status})]})]})]}),(0,b.jsxs)("div",{className:"p-6 border-b",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Approval & change history"}),(0,b.jsx)("div",{className:"space-y-4",children:(n.approvalHistory||[]).map((a,c)=>(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2"}),c<(n.approvalHistory||[]).length-1&&(0,b.jsx)("div",{className:"w-px h-full bg-gray-300 mt-1"})]}),(0,b.jsxs)("div",{className:"flex-1 pb-4",children:[(0,b.jsx)("div",{className:"font-medium text-gray-900",children:a.event}),(0,b.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:[w(a.date),a.actor?` \xb7 ${a.actor}`:""]})]})]},c))})]}),(0,b.jsxs)("div",{className:"p-6 border-b",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Notes"}),(0,b.jsx)("p",{className:"text-gray-700",children:n.notes})]}),(0,b.jsxs)("div",{className:"p-6 bg-gray-50",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Next actions"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Record receipts and keep PO aligned with actual deliveries and invoices."}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,b.jsx)("button",{onClick:B,disabled:null!==r,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:"receive"===r?(0,b.jsx)(b.Fragment,{children:"Processing..."}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.Package,{className:"w-4 h-4"}),"Receive goods"]})}),(0,b.jsx)("button",{onClick:C,disabled:null!==r,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:"invoice"===r?(0,b.jsx)(b.Fragment,{children:"Processing..."}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.FileText,{className:"w-4 h-4"}),"Create invoice draft"]})}),(0,b.jsx)("button",{onClick:D,disabled:null!==r,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"close"===r?"Processing...":"Close PO"})]})]})]})})]}),y&&(0,b.jsx)(v,{onClose:()=>z(!1),onCreated:async()=>{let a=await (0,k.getPurchaseOrders)();a&&a.success&&(l(a.data),o(a.data[0]||null))}})]})]})}a.s(["default",()=>y],46397)}];

//# sourceMappingURL=app_%28app%29_purchase-orders_page_tsx_70a5b729._.js.map