module.exports=[6902,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(34157),d=d,e=a.i(20610),f=a.i(81560),g=a.i(40695),h=a.i(54161),i=a.i(3130),j=a.i(90818),k=a.i(30218),l=a.i(45676),m=a.i(50944),n=a.i(97895);function o({initialNotifications:a}){let o=(0,m.useRouter)(),[p,q]=(0,c.useState)(a),r=p.filter(a=>!a.read).length,s=async a=>{await (0,j.markAsRead)(a),q(b=>b.map(b=>b._id===a?{...b,read:!0}:b)),o.refresh()},t=async()=>{await (0,k.markAllAsRead)(),q(a=>a.map(a=>({...a,read:!0}))),o.refresh()},u=async a=>{await (0,l.deleteNotification)(a),q(b=>b.filter(b=>b._id!==a)),o.refresh()};return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:r>0?(0,b.jsxs)("span",{children:[r," unread notification",1!==r?"s":""]}):(0,b.jsx)("span",{children:"All caught up!"})}),r>0&&(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:t,children:[(0,b.jsx)(e.CheckCheck,{className:"w-4 h-4 mr-2"}),"Mark all as read"]})]}),0===p.length?(0,b.jsx)(i.Card,{className:"p-12 text-center",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"No notifications yet"})}):(0,b.jsx)("div",{className:"space-y-2",children:p.map(a=>(0,b.jsx)(i.Card,{className:(0,n.cn)("p-4 hover:shadow-md transition-shadow",!a.read&&"bg-primary/5 border-primary/20"),children:(0,b.jsx)("div",{className:"flex items-start gap-4",children:(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)("h3",{className:(0,n.cn)("font-medium",!a.read&&"font-semibold"),children:a.title}),(0,b.jsx)(h.Badge,{variant:{urgent:"destructive",high:"default",medium:"secondary",low:"outline"}[a.priority]||"secondary",children:a.priority}),!a.read&&(0,b.jsx)(h.Badge,{variant:"default",className:"bg-blue-500",children:"New"})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.message})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[!a.read&&(0,b.jsxs)(g.Button,{variant:"ghost",size:"sm",onClick:()=>s(a._id),children:[(0,b.jsx)(d.default,{className:"w-4 h-4 mr-1"}),"Mark read"]}),(0,b.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:()=>u(a._id),className:"text-destructive hover:text-destructive",children:(0,b.jsx)(f.Trash2,{className:"w-4 h-4"})})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(a.createdAt).toLocaleString()}),a.actionUrl&&(0,b.jsx)(g.Button,{variant:"link",size:"sm",className:"h-auto p-0",onClick:()=>o.push(a.actionUrl),children:"View details â†’"})]})]})})},a._id))})]})}a.s(["NotificationsList",()=>o],6902)}];

//# sourceMappingURL=components_notifications-list_tsx_1ffea862._.js.map